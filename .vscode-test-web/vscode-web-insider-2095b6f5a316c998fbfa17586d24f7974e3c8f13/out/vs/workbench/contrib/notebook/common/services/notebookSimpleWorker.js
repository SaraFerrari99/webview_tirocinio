/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var lt=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/errors","vs/base/common/path","vs/base/common/buffer","vs/base/common/lifecycle","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/extpath","vs/base/common/network","vs/base/common/uri","vs/base/common/stream","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model","vs/editor/common/model/textModelSearch","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/instantiation","vs/platform/contextkey/common/contextkey","vs/workbench/contrib/notebook/common/notebookCommon","vs/base/common/lazy","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/base/common/map","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],ut=function(st){for(var t=[],G=0,V=st.length;G<V;G++)t[G]=lt[st[G]];return t};define(lt[13],ut([0,1,4,7]),function(st,t,G,V){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$de=t.$ce=t.$be=t.$ae=t.$_d=t.$$d=t.$0d=t.$9d=t.$8d=t.$7d=t.$6d=t.$5d=t.$4d=t.$3d=t.$2d=void 0;function U(n){const l=n;return l?typeof l.read=="function":!1}t.$2d=U;function P(n){const l=n;return l?[l.on,l.pause,l.resume,l.destroy].every(c=>typeof c=="function"):!1}t.$3d=P;function W(n){const l=n;return l?P(l.stream)&&Array.isArray(l.buffer)&&typeof l.ended=="boolean":!1}t.$4d=W;function H(n,l){return new E(n,l)}t.$5d=H;class E{constructor(l,c){this.e=l,this.f=c,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(l){if(!this.a.destroyed){if(this.a.flowing)this.g(l);else if(this.b.data.push(l),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(c=>this.d.push(c))}}error(l){this.a.destroyed||(this.a.flowing?this.h(l):this.b.error.push(l))}end(l){this.a.destroyed||(typeof l<"u"&&this.write(l),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(l){this.c.data.slice(0).forEach(c=>c(l))}h(l){this.c.error.length===0?(0,G.$Z)(l):this.c.error.slice(0).forEach(c=>c(l))}i(){this.c.end.slice(0).forEach(l=>l())}on(l,c){if(!this.a.destroyed)switch(l){case"data":this.c.data.push(c),this.resume();break;case"end":this.c.end.push(c),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(c),this.a.flowing&&this.k();break}}removeListener(l,c){if(this.a.destroyed)return;let w;switch(l){case"data":w=this.c.data;break;case"end":w=this.c.end;break;case"error":w=this.c.error;break}if(w){const L=w.indexOf(c);L>=0&&w.splice(L,1)}}j(){if(this.b.data.length>0){const l=this.e(this.b.data);this.g(l),this.b.data.length=0;const c=[...this.d];this.d.length=0,c.forEach(w=>w())}}k(){if(this.c.error.length>0){for(const l of this.b.error)this.h(l);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function d(n,l){const c=[];let w;for(;(w=n.read())!==null;)c.push(w);return l(c)}t.$6d=d;function b(n,l,c){const w=[];let L;for(;(L=n.read())!==null&&w.length<c;)w.push(L);return L===null&&w.length>0?l(w):{read:()=>{if(w.length>0)return w.shift();if(typeof L<"u"){const A=L;return L=void 0,A}return n.read()}}}t.$7d=b;function j(n,l){return new Promise((c,w)=>{const L=[];g(n,{onData:A=>{l&&L.push(A)},onError:A=>{l?w(A):c(void 0)},onEnd:()=>{c(l?l(L):void 0)}})})}t.$8d=j;function g(n,l,c){n.on("error",w=>{c?.isCancellationRequested||l.onError(w)}),n.on("end",()=>{c?.isCancellationRequested||l.onEnd()}),n.on("data",w=>{c?.isCancellationRequested||l.onData(w)})}t.$9d=g;function N(n,l){return new Promise((c,w)=>{const L=new V.$Qc,A=[],O=k=>{if(A.push(k),A.length>l)return L.dispose(),n.pause(),c({stream:n,buffer:A,ended:!1})},a=k=>(L.dispose(),w(k)),v=()=>(L.dispose(),c({stream:n,buffer:A,ended:!0}));L.add((0,V.$Pc)(()=>n.removeListener("error",a))),n.on("error",a),L.add((0,V.$Pc)(()=>n.removeListener("end",v))),n.on("end",v),L.add((0,V.$Pc)(()=>n.removeListener("data",O))),n.on("data",O)})}t.$0d=N;function m(n,l){const c=H(l);return c.end(n),c}t.$$d=m;function f(){const n=H(()=>{throw new Error("not supported")});return n.end(),n}t.$_d=f;function u(n){let l=!1;return{read:()=>l?null:(l=!0,n)}}t.$ae=u;function h(n,l,c){const w=H(c);return g(n,{onData:L=>w.write(l.data(L)),onError:L=>w.error(l.error?l.error(L):L),onEnd:()=>w.end()}),w}t.$be=h;function e(n,l,c){let w=!1;return{read:()=>{const L=l.read();return w?L:(w=!0,L!==null?c([n,L]):n)}}}t.$ce=e;function s(n,l,c){let w=!1;const L=H(c);return g(l,{onData:A=>w?L.write(A):(w=!0,L.write(c([n,A]))),onError:A=>L.error(A),onEnd:()=>{w||(w=!0,L.write(n)),L.end()}}),L}t.$de=s}),define(lt[6],ut([0,1,36,13]),function(st,t,G,V){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$ye=t.$xe=t.$we=t.$ve=t.$ue=t.$te=t.$se=t.$re=t.$qe=t.$pe=t.$oe=t.$ne=t.$me=t.$le=t.$ke=t.$je=t.$ie=t.$he=t.$ge=t.$fe=t.$ee=void 0;const U=typeof Buffer<"u",P=new G.$U(()=>new Uint8Array(256));let W,H;class E{static alloc(p){return U?new E(Buffer.allocUnsafe(p)):new E(new Uint8Array(p))}static wrap(p){return U&&!Buffer.isBuffer(p)&&(p=Buffer.from(p.buffer,p.byteOffset,p.byteLength)),new E(p)}static fromString(p,D){return!(D?.dontUseNodeBuffer||!1)&&U?new E(Buffer.from(p)):(W||(W=new TextEncoder),new E(W.encode(p)))}static fromByteArray(p){const D=E.alloc(p.length);for(let J=0,_=p.length;J<_;J++)D.buffer[J]=p[J];return D}static concat(p,D){if(typeof D>"u"){D=0;for(let x=0,et=p.length;x<et;x++)D+=p[x].byteLength}const J=E.alloc(D);let _=0;for(let x=0,et=p.length;x<et;x++){const tt=p[x];J.set(tt,_),_+=tt.byteLength}return J}constructor(p){this.buffer=p,this.byteLength=this.buffer.byteLength}clone(){const p=E.alloc(this.byteLength);return p.set(this),p}toString(){return U?this.buffer.toString():(H||(H=new TextDecoder),H.decode(this.buffer))}slice(p,D){return new E(this.buffer.subarray(p,D))}set(p,D){if(p instanceof E)this.buffer.set(p.buffer,D);else if(p instanceof Uint8Array)this.buffer.set(p,D);else if(p instanceof ArrayBuffer)this.buffer.set(new Uint8Array(p),D);else if(ArrayBuffer.isView(p))this.buffer.set(new Uint8Array(p.buffer,p.byteOffset,p.byteLength),D);else throw new Error("Unknown argument 'array'")}readUInt32BE(p){return g(this.buffer,p)}writeUInt32BE(p,D){N(this.buffer,p,D)}readUInt32LE(p){return m(this.buffer,p)}writeUInt32LE(p,D){f(this.buffer,p,D)}readUInt8(p){return u(this.buffer,p)}writeUInt8(p,D){h(this.buffer,p,D)}indexOf(p,D=0){return d(this.buffer,p instanceof E?p.buffer:p,D)}}t.$ee=E;function d(B,p,D=0){const J=p.byteLength,_=B.byteLength;if(J===0)return 0;if(J===1)return B.indexOf(p[0]);if(J>_-D)return-1;const x=P.value;x.fill(p.length);for(let Q=0;Q<p.length;Q++)x[p[Q]]=p.length-Q-1;let et=D+p.length-1,tt=et,y=-1;for(;et<_;)if(B[et]===p[tt]){if(tt===0){y=et;break}et--,tt--}else et+=Math.max(p.length-tt,x[B[et]]),tt=p.length-1;return y}t.$fe=d;function b(B,p){return B[p+0]<<0>>>0|B[p+1]<<8>>>0}t.$ge=b;function j(B,p,D){B[D+0]=p&255,p=p>>>8,B[D+1]=p&255}t.$he=j;function g(B,p){return B[p]*2**24+B[p+1]*2**16+B[p+2]*2**8+B[p+3]}t.$ie=g;function N(B,p,D){B[D+3]=p,p=p>>>8,B[D+2]=p,p=p>>>8,B[D+1]=p,p=p>>>8,B[D]=p}t.$je=N;function m(B,p){return B[p+0]<<0>>>0|B[p+1]<<8>>>0|B[p+2]<<16>>>0|B[p+3]<<24>>>0}t.$ke=m;function f(B,p,D){B[D+0]=p&255,p=p>>>8,B[D+1]=p&255,p=p>>>8,B[D+2]=p&255,p=p>>>8,B[D+3]=p&255}t.$le=f;function u(B,p){return B[p]}t.$me=u;function h(B,p,D){B[D]=p}t.$ne=h;function e(B){return V.$6d(B,p=>E.concat(p))}t.$oe=e;function s(B){return V.$ae(B)}t.$pe=s;function n(B){return V.$8d(B,p=>E.concat(p))}t.$qe=n;async function l(B){return B.ended?E.concat(B.buffer):E.concat([...B.buffer,await n(B.stream)])}t.$re=l;function c(B){return V.$$d(B,p=>E.concat(p))}t.$se=c;function w(B){return V.$be(B,{data:p=>typeof p=="string"?E.fromString(p):E.wrap(p)},p=>E.concat(p))}t.$te=w;function L(B){return V.$5d(p=>E.concat(p),B)}t.$ue=L;function A(B,p){return V.$ce(B,p,D=>E.concat(D))}t.$ve=A;function O(B,p){return V.$de(B,p,D=>E.concat(D))}t.$we=O;function a(B){let p=0,D=0,J=0;const _=new Uint8Array(Math.floor(B.length/4*3)),x=tt=>{switch(D){case 3:_[J++]=p|tt,D=0;break;case 2:_[J++]=p|tt>>>2,p=tt<<6,D=3;break;case 1:_[J++]=p|tt>>>4,p=tt<<4,D=2;break;default:p=tt<<2,D=1}};for(let tt=0;tt<B.length;tt++){const y=B.charCodeAt(tt);if(y>=65&&y<=90)x(y-65);else if(y>=97&&y<=122)x(y-97+26);else if(y>=48&&y<=57)x(y-48+52);else if(y===43||y===45)x(62);else if(y===47||y===95)x(63);else{if(y===61)break;throw new SyntaxError(`Unexpected base64 character ${B[tt]}`)}}const et=J;for(;D>0;)x(0);return E.wrap(_).slice(0,et)}t.$xe=a;const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function T({buffer:B},p=!0,D=!1){const J=D?k:v;let _="";const x=B.byteLength%3;let et=0;for(;et<B.byteLength-x;et+=3){const tt=B[et+0],y=B[et+1],Q=B[et+2];_+=J[tt>>>2],_+=J[(tt<<4|y>>>4)&63],_+=J[(y<<2|Q>>>6)&63],_+=J[Q&63]}if(x===1){const tt=B[et+0];_+=J[tt>>>2],_+=J[tt<<4&63],p&&(_+="==")}else if(x===2){const tt=B[et+0],y=B[et+1];_+=J[tt>>>2],_+=J[(tt<<4|y>>>4)&63],_+=J[y<<2&63],p&&(_+="=")}return _}t.$ye=T}),define(lt[14],ut([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Nd=void 0,t.$Nd=Symbol("MicrotaskDelay")}),define(lt[15],ut([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$_s=t.StringEOL=void 0;var G;(function(U){U[U.Unknown=0]="Unknown",U[U.Invalid=3]="Invalid",U[U.LF=1]="LF",U[U.CRLF=2]="CRLF"})(G||(t.StringEOL=G={}));function V(U){let P=0,W=0,H=0,E=0;for(let d=0,b=U.length;d<b;d++){const j=U.charCodeAt(d);j===13?(P===0&&(W=d),P++,d+1<b&&U.charCodeAt(d+1)===10?(E|=2,d++):E|=3,H=d+1):j===10&&(E|=1,P===0&&(W=d),P++,H=d+1)}return P===0&&(W=U.length),[P,W,U.length-H,E]}t.$_s=V}),define(lt[16],ut([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$zB=t.$yB=t.$xB=t.$wB=t.$vB=t.$uB=t.$tB=t.$sB=t.$rB=t.NodeColor=t.$qB=void 0;class G{constructor(u,h){this.piece=u,this.color=h,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==t.$rB)return U(this.right);let u=this;for(;u.parent!==t.$rB&&u.parent.left!==u;)u=u.parent;return u.parent===t.$rB?t.$rB:u.parent}prev(){if(this.left!==t.$rB)return P(this.left);let u=this;for(;u.parent!==t.$rB&&u.parent.right!==u;)u=u.parent;return u.parent===t.$rB?t.$rB:u.parent}detach(){this.parent=null,this.left=null,this.right=null}}t.$qB=G;var V;(function(f){f[f.Black=0]="Black",f[f.Red=1]="Red"})(V||(t.NodeColor=V={})),t.$rB=new G(null,0),t.$rB.parent=t.$rB,t.$rB.left=t.$rB,t.$rB.right=t.$rB,t.$rB.color=0;function U(f){for(;f.left!==t.$rB;)f=f.left;return f}t.$sB=U;function P(f){for(;f.right!==t.$rB;)f=f.right;return f}t.$tB=P;function W(f){return f===t.$rB?0:f.size_left+f.piece.length+W(f.right)}function H(f){return f===t.$rB?0:f.lf_left+f.piece.lineFeedCnt+H(f.right)}function E(){t.$rB.parent=t.$rB}function d(f,u){const h=u.right;h.size_left+=u.size_left+(u.piece?u.piece.length:0),h.lf_left+=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),u.right=h.left,h.left!==t.$rB&&(h.left.parent=u),h.parent=u.parent,u.parent===t.$rB?f.root=h:u.parent.left===u?u.parent.left=h:u.parent.right=h,h.left=u,u.parent=h}t.$uB=d;function b(f,u){const h=u.left;u.left=h.right,h.right!==t.$rB&&(h.right.parent=u),h.parent=u.parent,u.size_left-=h.size_left+(h.piece?h.piece.length:0),u.lf_left-=h.lf_left+(h.piece?h.piece.lineFeedCnt:0),u.parent===t.$rB?f.root=h:u===u.parent.right?u.parent.right=h:u.parent.left=h,h.right=u,u.parent=h}t.$vB=b;function j(f,u){let h,e;if(u.left===t.$rB?(e=u,h=e.right):u.right===t.$rB?(e=u,h=e.left):(e=U(u.right),h=e.right),e===f.root){f.root=h,h.color=0,u.detach(),E(),f.root.parent=t.$rB;return}const s=e.color===1;if(e===e.parent.left?e.parent.left=h:e.parent.right=h,e===u?(h.parent=e.parent,m(f,h)):(e.parent===u?h.parent=e:h.parent=e.parent,m(f,h),e.left=u.left,e.right=u.right,e.parent=u.parent,e.color=u.color,u===f.root?f.root=e:u===u.parent.left?u.parent.left=e:u.parent.right=e,e.left!==t.$rB&&(e.left.parent=e),e.right!==t.$rB&&(e.right.parent=e),e.size_left=u.size_left,e.lf_left=u.lf_left,m(f,e)),u.detach(),h.parent.left===h){const l=W(h),c=H(h);if(l!==h.parent.size_left||c!==h.parent.lf_left){const w=l-h.parent.size_left,L=c-h.parent.lf_left;h.parent.size_left=l,h.parent.lf_left=c,N(f,h.parent,w,L)}}if(m(f,h.parent),s){E();return}let n;for(;h!==f.root&&h.color===0;)h===h.parent.left?(n=h.parent.right,n.color===1&&(n.color=0,h.parent.color=1,d(f,h.parent),n=h.parent.right),n.left.color===0&&n.right.color===0?(n.color=1,h=h.parent):(n.right.color===0&&(n.left.color=0,n.color=1,b(f,n),n=h.parent.right),n.color=h.parent.color,h.parent.color=0,n.right.color=0,d(f,h.parent),h=f.root)):(n=h.parent.left,n.color===1&&(n.color=0,h.parent.color=1,b(f,h.parent),n=h.parent.left),n.left.color===0&&n.right.color===0?(n.color=1,h=h.parent):(n.left.color===0&&(n.right.color=0,n.color=1,d(f,n),n=h.parent.left),n.color=h.parent.color,h.parent.color=0,n.left.color=0,b(f,h.parent),h=f.root));h.color=0,E()}t.$wB=j;function g(f,u){for(m(f,u);u!==f.root&&u.parent.color===1;)if(u.parent===u.parent.parent.left){const h=u.parent.parent.right;h.color===1?(u.parent.color=0,h.color=0,u.parent.parent.color=1,u=u.parent.parent):(u===u.parent.right&&(u=u.parent,d(f,u)),u.parent.color=0,u.parent.parent.color=1,b(f,u.parent.parent))}else{const h=u.parent.parent.left;h.color===1?(u.parent.color=0,h.color=0,u.parent.parent.color=1,u=u.parent.parent):(u===u.parent.left&&(u=u.parent,b(f,u)),u.parent.color=0,u.parent.parent.color=1,d(f,u.parent.parent))}f.root.color=0}t.$xB=g;function N(f,u,h,e){for(;u!==f.root&&u!==t.$rB;)u.parent.left===u&&(u.parent.size_left+=h,u.parent.lf_left+=e),u=u.parent}t.$yB=N;function m(f,u){let h=0,e=0;if(u!==f.root){for(;u!==f.root&&u===u.parent.right;)u=u.parent;if(u!==f.root)for(u=u.parent,h=W(u.left)-u.size_left,e=H(u.left)-u.lf_left,u.size_left+=h,u.lf_left+=e;u!==f.root&&(h!==0||e!==0);)u.parent.left===u&&(u.parent.size_left+=h,u.parent.lf_left+=e),u=u.parent}}t.$zB=m}),define(lt[8],ut([0,1,37,9,17,16,18]),function(st,t,G,V,U,P,W){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$KB=t.$JB=t.$IB=t.$HB=t.$GB=void 0;const H=65535;function E(h){let e;return h[h.length-1]<65536?e=new Uint16Array(h.length):e=new Uint32Array(h.length),e.set(h,0),e}class d{constructor(e,s,n,l,c){this.lineStarts=e,this.cr=s,this.lf=n,this.crlf=l,this.isBasicASCII=c}}function b(h,e=!0){const s=[0];let n=1;for(let l=0,c=h.length;l<c;l++){const w=h.charCodeAt(l);w===13?l+1<c&&h.charCodeAt(l+1)===10?(s[n++]=l+2,l++):s[n++]=l+1:w===10&&(s[n++]=l+1)}return e?E(s):s}t.$GB=b;function j(h,e){h.length=0,h[0]=0;let s=1,n=0,l=0,c=0,w=!0;for(let A=0,O=e.length;A<O;A++){const a=e.charCodeAt(A);a===13?A+1<O&&e.charCodeAt(A+1)===10?(c++,h[s++]=A+2,A++):(n++,h[s++]=A+1):a===10?(l++,h[s++]=A+1):w&&a!==9&&(a<32||a>126)&&(w=!1)}const L=new d(E(h),n,l,c,w);return h.length=0,L}t.$HB=j;class g{constructor(e,s,n,l,c){this.bufferIndex=e,this.start=s,this.end=n,this.lineFeedCnt=l,this.length=c}}t.$IB=g;class N{constructor(e,s){this.buffer=e,this.lineStarts=s}}t.$JB=N;class m{constructor(e,s){this.a=[],this.c=e,this.d=s,this.b=0,e.root!==P.$rB&&e.iterate(e.root,n=>(n!==P.$rB&&this.a.push(n.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class f{constructor(e){this.a=e,this.b=[]}get(e){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this.b.length>=this.a&&this.b.shift(),this.b.push(e)}validate(e){let s=!1;const n=this.b;for(let l=0;l<n.length;l++){const c=n[l];if(c.node.parent===null||c.nodeStartOffset>=e){n[l]=null,s=!0;continue}}if(s){const l=[];for(const c of n)c!==null&&l.push(c);this.b=l}}}class u{constructor(e,s,n){this.create(e,s,n)}create(e,s,n){this.a=[new N("",[0])],this.g={line:0,column:0},this.root=P.$rB,this.b=1,this.c=0,this.d=s,this.e=s.length,this.f=n;let l=null;for(let c=0,w=e.length;c<w;c++)if(e[c].buffer.length>0){e[c].lineStarts||(e[c].lineStarts=b(e[c].buffer));const L=new g(c+1,{line:0,column:0},{line:e[c].lineStarts.length-1,column:e[c].buffer.length-e[c].lineStarts[e[c].lineStarts.length-1]},e[c].lineStarts.length-1,e[c].buffer.length);this.a.push(e[c]),l=this.S(l,L)}this.h=new f(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(e){const s=H,n=s-Math.floor(s/3),l=n*2;let c="",w=0;const L=[];if(this.iterate(this.root,A=>{const O=this.R(A),a=O.length;if(w<=n||w+a<l)return c+=O,w+=a,!0;const v=c.replace(/\r\n|\r|\n/g,e);return L.push(new N(v,b(v))),c=O,w=a,!0}),w>0){const A=c.replace(/\r\n|\r|\n/g,e);L.push(new N(A,b(A)))}this.create(L,e,!0)}getEOL(){return this.d}setEOL(e){this.d=e,this.e=this.d.length,this.normalizeEOL(e)}createSnapshot(e){return new m(this,e)}equal(e){if(this.getLength()!==e.getLength()||this.getLineCount()!==e.getLineCount())return!1;let s=0;return this.iterate(this.root,l=>{if(l===P.$rB)return!0;const c=this.R(l),w=c.length,L=e.G(s),A=e.G(s+w),O=e.getValueInRange2(L,A);return s+=w,c===O})}getOffsetAt(e,s){let n=0,l=this.root;for(;l!==P.$rB;)if(l.left!==P.$rB&&l.lf_left+1>=e)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt+1>=e){n+=l.size_left;const c=this.B(l,e-l.lf_left-2);return n+=c+s-1}else e-=l.lf_left+l.piece.lineFeedCnt,n+=l.size_left+l.piece.length,l=l.right;return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let s=this.root,n=0;const l=e;for(;s!==P.$rB;)if(s.size_left!==0&&s.size_left>=e)s=s.left;else if(s.size_left+s.piece.length>=e){const c=this.A(s,e-s.size_left);if(n+=s.lf_left+c.index,c.index===0){const w=this.getOffsetAt(n+1,1),L=l-w;return new G.$ys(n+1,L+1)}return new G.$ys(n+1,c.remainder+1)}else if(e-=s.size_left+s.piece.length,n+=s.lf_left+s.piece.lineFeedCnt,s.right===P.$rB){const c=this.getOffsetAt(n+1,1),w=l-e-c;return new G.$ys(n+1,w+1)}else s=s.right;return new G.$ys(1,1)}getValueInRange(e,s){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const n=this.H(e.startLineNumber,e.startColumn),l=this.H(e.endLineNumber,e.endColumn),c=this.getValueInRange2(n,l);return s?s!==this.d||!this.f?c.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this.f?c:c.replace(/\r\n|\r|\n/g,s):c}getValueInRange2(e,s){if(e.node===s.node){const L=e.node,A=this.a[L.piece.bufferIndex].buffer,O=this.u(L.piece.bufferIndex,L.piece.start);return A.substring(O+e.remainder,O+s.remainder)}let n=e.node;const l=this.a[n.piece.bufferIndex].buffer,c=this.u(n.piece.bufferIndex,n.piece.start);let w=l.substring(c+e.remainder,c+n.piece.length);for(n=n.next();n!==P.$rB;){const L=this.a[n.piece.bufferIndex].buffer,A=this.u(n.piece.bufferIndex,n.piece.start);if(n===s.node){w+=L.substring(A,A+s.remainder);break}else w+=L.substr(A,n.piece.length);n=n.next()}return w}getLinesContent(){const e=[];let s=0,n="",l=!1;return this.iterate(this.root,c=>{if(c===P.$rB)return!0;const w=c.piece;let L=w.length;if(L===0)return!0;const A=this.a[w.bufferIndex].buffer,O=this.a[w.bufferIndex].lineStarts,a=w.start.line,v=w.end.line;let k=O[a]+w.start.column;if(l&&(A.charCodeAt(k)===10&&(k++,L--),e[s++]=n,n="",l=!1,L===0))return!0;if(a===v)return!this.f&&A.charCodeAt(k+L-1)===13?(l=!0,n+=A.substr(k,L-1)):n+=A.substr(k,L),!0;n+=this.f?A.substring(k,Math.max(k,O[a+1]-this.e)):A.substring(k,O[a+1]).replace(/(\r\n|\r|\n)$/,""),e[s++]=n;for(let T=a+1;T<v;T++)n=this.f?A.substring(O[T],O[T+1]-this.e):A.substring(O[T],O[T+1]).replace(/(\r\n|\r|\n)$/,""),e[s++]=n;return!this.f&&A.charCodeAt(O[v]+w.end.column-1)===13?(l=!0,w.end.column===0?s--:n=A.substr(O[v],w.end.column-1)):n=A.substr(O[v],w.end.column),!0}),l&&(e[s++]=n,n=""),e[s++]=n,e}getLength(){return this.c}getLineCount(){return this.b}getLineContent(e){return this.j.lineNumber===e?this.j.value:(this.j.lineNumber=e,e===this.b?this.j.value=this.getLineRawContent(e):this.f?this.j.value=this.getLineRawContent(e,this.e):this.j.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(e){if(e.remainder===e.node.piece.length){const s=e.node.next();if(!s)return 0;const n=this.a[s.piece.bufferIndex],l=this.u(s.piece.bufferIndex,s.piece.start);return n.buffer.charCodeAt(l)}else{const s=this.a[e.node.piece.bufferIndex],l=this.u(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return s.buffer.charCodeAt(l)}}getLineCharCode(e,s){const n=this.H(e,s+1);return this.l(n)}getLineLength(e){if(e===this.getLineCount()){const s=this.getOffsetAt(e,1);return this.getLength()-s}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this.e}getCharCode(e){const s=this.G(e);return this.l(s)}findMatchesInNode(e,s,n,l,c,w,L,A,O,a,v){const k=this.a[e.piece.bufferIndex],T=this.u(e.piece.bufferIndex,e.piece.start),B=this.u(e.piece.bufferIndex,c),p=this.u(e.piece.bufferIndex,w);let D;const J={line:0,column:0};let _,x;s._wordSeparators?(_=k.buffer.substring(B,p),x=et=>et+B,s.reset(0)):(_=k.buffer,x=et=>et,s.reset(B));do if(D=s.next(_),D){if(x(D.index)>=p)return a;this.s(e,x(D.index)-T,J);const et=this.t(e.piece.bufferIndex,c,J),tt=J.line===c.line?J.column-c.column+l:J.column+1,y=tt+D[0].length;if(v[a++]=(0,W.$CB)(new V.$zs(n+et,tt,n+et,y),D,A),x(D.index)+D[0].length>=p||a>=O)return a}while(D);return a}findMatchesLineByLine(e,s,n,l){const c=[];let w=0;const L=new W.$FB(s.wordSeparators,s.regex);let A=this.H(e.startLineNumber,e.startColumn);if(A===null)return[];const O=this.H(e.endLineNumber,e.endColumn);if(O===null)return[];let a=this.s(A.node,A.remainder);const v=this.s(O.node,O.remainder);if(A.node===O.node)return this.findMatchesInNode(A.node,L,e.startLineNumber,e.startColumn,a,v,s,n,l,w,c),c;let k=e.startLineNumber,T=A.node;for(;T!==O.node;){const p=this.t(T.piece.bufferIndex,a,T.piece.end);if(p>=1){const J=this.a[T.piece.bufferIndex].lineStarts,_=this.u(T.piece.bufferIndex,T.piece.start),x=J[a.line+p],et=k===e.startLineNumber?e.startColumn:1;if(w=this.findMatchesInNode(T,L,k,et,a,this.s(T,x-_),s,n,l,w,c),w>=l)return c;k+=p}const D=k===e.startLineNumber?e.startColumn-1:0;if(k===e.endLineNumber){const J=this.getLineContent(k).substring(D,e.endColumn-1);return w=this.n(s,L,J,e.endLineNumber,D,w,c,n,l),c}if(w=this.n(s,L,this.getLineContent(k).substr(D),k,D,w,c,n,l),w>=l)return c;k++,A=this.H(k,1),T=A.node,a=this.s(A.node,A.remainder)}if(k===e.endLineNumber){const p=k===e.startLineNumber?e.startColumn-1:0,D=this.getLineContent(k).substring(p,e.endColumn-1);return w=this.n(s,L,D,e.endLineNumber,p,w,c,n,l),c}const B=k===e.startLineNumber?e.startColumn:1;return w=this.findMatchesInNode(O.node,L,k,B,a,v,s,n,l,w,c),c}n(e,s,n,l,c,w,L,A,O){const a=e.wordSeparators;if(!A&&e.simpleSearch){const k=e.simpleSearch,T=k.length,B=n.length;let p=-T;for(;(p=n.indexOf(k,p+T))!==-1;)if((!a||(0,W.$EB)(a,n,B,p,T))&&(L[w++]=new U.$Qu(new V.$zs(l,p+1+c,l,p+1+T+c),null),w>=O))return w;return w}let v;s.reset(0);do if(v=s.next(n),v&&(L[w++]=(0,W.$CB)(new V.$zs(l,v.index+1+c,l,v.index+1+v[0].length+c),v,A),w>=O))return w;while(v);return w}insert(e,s,n=!1){if(this.f=this.f&&n,this.j.lineNumber=0,this.j.value="",this.root!==P.$rB){const{node:l,remainder:c,nodeStartOffset:w}=this.G(e),L=l.piece,A=L.bufferIndex,O=this.s(l,c);if(l.piece.bufferIndex===0&&L.end.line===this.g.line&&L.end.column===this.g.column&&w+L.length===e&&s.length<H){this.F(l,s),this.y();return}if(w===e)this.o(s,l),this.h.validate(e);else if(w+l.piece.length>e){const a=[];let v=new g(L.bufferIndex,O,L.end,this.t(L.bufferIndex,O,L.end),this.u(A,L.end)-this.u(A,O));if(this.K()&&this.M(s)&&this.I(l,c)===10){const p={line:v.start.line+1,column:0};v=new g(v.bufferIndex,p,v.end,this.t(v.bufferIndex,p,v.end),v.length-1),s+=`
`}if(this.K()&&this.L(s))if(this.I(l,c-1)===13){const p=this.s(l,c-1);this.C(l,p),s="\r"+s,l.piece.length===0&&a.push(l)}else this.C(l,O);else this.C(l,O);const k=this.w(s);v.length>0&&this.S(l,v);let T=l;for(let B=0;B<k.length;B++)T=this.S(T,k[B]);this.v(a)}else this.q(s,l)}else{const l=this.w(s);let c=this.T(null,l[0]);for(let w=1;w<l.length;w++)c=this.S(c,l[w])}this.y()}delete(e,s){if(this.j.lineNumber=0,this.j.value="",s<=0||this.root===P.$rB)return;const n=this.G(e),l=this.G(e+s),c=n.node,w=l.node;if(c===w){const k=this.s(c,n.remainder),T=this.s(c,l.remainder);if(n.nodeStartOffset===e){if(s===c.piece.length){const B=c.next();(0,P.$wB)(this,c),this.N(B),this.y();return}this.D(c,T),this.h.validate(e),this.N(c),this.y();return}if(n.nodeStartOffset+c.piece.length===e+s){this.C(c,k),this.O(c),this.y();return}this.E(c,k,T),this.y();return}const L=[],A=this.s(c,n.remainder);this.C(c,A),this.h.validate(e),c.piece.length===0&&L.push(c);const O=this.s(w,l.remainder);this.D(w,O),w.piece.length===0&&L.push(w);const a=c.next();for(let k=a;k!==P.$rB&&k!==w;k=k.next())L.push(k);const v=c.piece.length===0?c.prev():c;this.v(L),this.O(v),this.y()}o(e,s){const n=[];if(this.K()&&this.M(e)&&this.L(s)){const w=s.piece,L={line:w.start.line+1,column:0},A=new g(w.bufferIndex,L,w.end,this.t(w.bufferIndex,L,w.end),w.length-1);s.piece=A,e+=`
`,(0,P.$yB)(this,s,-1,-1),s.piece.length===0&&n.push(s)}const l=this.w(e);let c=this.T(s,l[l.length-1]);for(let w=l.length-2;w>=0;w--)c=this.T(c,l[w]);this.N(c),this.v(n)}q(e,s){this.Q(e,s)&&(e+=`
`);const n=this.w(e),l=this.S(s,n[0]);let c=l;for(let w=1;w<n.length;w++)c=this.S(c,n[w]);this.N(l)}s(e,s,n){const l=e.piece,c=e.piece.bufferIndex,w=this.a[c].lineStarts,A=w[l.start.line]+l.start.column+s;let O=l.start.line,a=l.end.line,v=0,k=0,T=0;for(;O<=a&&(v=O+(a-O)/2|0,T=w[v],v!==a);)if(k=w[v+1],A<T)a=v-1;else if(A>=k)O=v+1;else break;return n?(n.line=v,n.column=A-T,null):{line:v,column:A-T}}t(e,s,n){if(n.column===0)return n.line-s.line;const l=this.a[e].lineStarts;if(n.line===l.length-1)return n.line-s.line;const c=l[n.line+1],w=l[n.line]+n.column;if(c>w+1)return n.line-s.line;const L=w-1;return this.a[e].buffer.charCodeAt(L)===13?n.line-s.line+1:n.line-s.line}u(e,s){return this.a[e].lineStarts[s.line]+s.column}v(e){for(let s=0;s<e.length;s++)(0,P.$wB)(this,e[s])}w(e){if(e.length>H){const a=[];for(;e.length>H;){const k=e.charCodeAt(H-1);let T;k===13||k>=55296&&k<=56319?(T=e.substring(0,H-1),e=e.substring(H-1)):(T=e.substring(0,H),e=e.substring(H));const B=b(T);a.push(new g(this.a.length,{line:0,column:0},{line:B.length-1,column:T.length-B[B.length-1]},B.length-1,T.length)),this.a.push(new N(T,B))}const v=b(e);return a.push(new g(this.a.length,{line:0,column:0},{line:v.length-1,column:e.length-v[v.length-1]},v.length-1,e.length)),this.a.push(new N(e,v)),a}let s=this.a[0].buffer.length;const n=b(e,!1);let l=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===s&&s!==0&&this.L(e)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},l=this.g;for(let a=0;a<n.length;a++)n[a]+=s+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+="_"+e,s+=1}else{if(s!==0)for(let a=0;a<n.length;a++)n[a]+=s;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+=e}const c=this.a[0].buffer.length,w=this.a[0].lineStarts.length-1,L=c-this.a[0].lineStarts[w],A={line:w,column:L},O=new g(0,l,A,this.t(0,l,A),c-s);return this.g=A,[O]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(e,s=0){let n=this.root,l="";const c=this.h.get2(e);if(c){n=c.node;const w=this.B(n,e-c.nodeStartLineNumber-1),L=this.a[n.piece.bufferIndex].buffer,A=this.u(n.piece.bufferIndex,n.piece.start);if(c.nodeStartLineNumber+n.piece.lineFeedCnt===e)l=L.substring(A+w,A+n.piece.length);else{const O=this.B(n,e-c.nodeStartLineNumber);return L.substring(A+w,A+O-s)}}else{let w=0;const L=e;for(;n!==P.$rB;)if(n.left!==P.$rB&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){const A=this.B(n,e-n.lf_left-2),O=this.B(n,e-n.lf_left-1),a=this.a[n.piece.bufferIndex].buffer,v=this.u(n.piece.bufferIndex,n.piece.start);return w+=n.size_left,this.h.set({node:n,nodeStartOffset:w,nodeStartLineNumber:L-(e-1-n.lf_left)}),a.substring(v+A,v+O-s)}else if(n.lf_left+n.piece.lineFeedCnt===e-1){const A=this.B(n,e-n.lf_left-2),O=this.a[n.piece.bufferIndex].buffer,a=this.u(n.piece.bufferIndex,n.piece.start);l=O.substring(a+A,a+n.piece.length);break}else e-=n.lf_left+n.piece.lineFeedCnt,w+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==P.$rB;){const w=this.a[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){const L=this.B(n,0),A=this.u(n.piece.bufferIndex,n.piece.start);return l+=w.substring(A,A+L-s),l}else{const L=this.u(n.piece.bufferIndex,n.piece.start);l+=w.substr(L,n.piece.length)}n=n.next()}return l}y(){let e=this.root,s=1,n=0;for(;e!==P.$rB;)s+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this.b=s,this.c=n,this.h.validate(this.c)}A(e,s){const n=e.piece,l=this.s(e,s),c=l.line-n.start.line;if(this.u(n.bufferIndex,n.end)-this.u(n.bufferIndex,n.start)===s){const w=this.t(e.piece.bufferIndex,n.start,l);if(w!==c)return{index:w,remainder:0}}return{index:c,remainder:l.column}}B(e,s){if(s<0)return 0;const n=e.piece,l=this.a[n.bufferIndex].lineStarts,c=n.start.line+s+1;return c>n.end.line?l[n.end.line]+n.end.column-l[n.start.line]-n.start.column:l[c]-l[n.start.line]-n.start.column}C(e,s){const n=e.piece,l=n.lineFeedCnt,c=this.u(n.bufferIndex,n.end),w=s,L=this.u(n.bufferIndex,w),A=this.t(n.bufferIndex,n.start,w),O=A-l,a=L-c,v=n.length+a;e.piece=new g(n.bufferIndex,n.start,w,A,v),(0,P.$yB)(this,e,a,O)}D(e,s){const n=e.piece,l=n.lineFeedCnt,c=this.u(n.bufferIndex,n.start),w=s,L=this.t(n.bufferIndex,w,n.end),A=this.u(n.bufferIndex,w),O=L-l,a=c-A,v=n.length+a;e.piece=new g(n.bufferIndex,w,n.end,L,v),(0,P.$yB)(this,e,a,O)}E(e,s,n){const l=e.piece,c=l.start,w=l.end,L=l.length,A=l.lineFeedCnt,O=s,a=this.t(l.bufferIndex,l.start,O),v=this.u(l.bufferIndex,s)-this.u(l.bufferIndex,c);e.piece=new g(l.bufferIndex,l.start,O,a,v),(0,P.$yB)(this,e,v-L,a-A);const k=new g(l.bufferIndex,n,w,this.t(l.bufferIndex,n,w),this.u(l.bufferIndex,w)-this.u(l.bufferIndex,n)),T=this.S(e,k);this.N(T)}F(e,s){this.Q(s,e)&&(s+=`
`);const n=this.K()&&this.L(s)&&this.M(e),l=this.a[0].buffer.length;this.a[0].buffer+=s;const c=b(s,!1);for(let T=0;T<c.length;T++)c[T]+=l;if(n){const T=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:l-T}}this.a[0].lineStarts=this.a[0].lineStarts.concat(c.slice(1));const w=this.a[0].lineStarts.length-1,L=this.a[0].buffer.length-this.a[0].lineStarts[w],A={line:w,column:L},O=e.piece.length+s.length,a=e.piece.lineFeedCnt,v=this.t(0,e.piece.start,A),k=v-a;e.piece=new g(e.piece.bufferIndex,e.piece.start,A,v,O),this.g=A,(0,P.$yB)(this,e,s.length,k)}G(e){let s=this.root;const n=this.h.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let l=0;for(;s!==P.$rB;)if(s.size_left>e)s=s.left;else if(s.size_left+s.piece.length>=e){l+=s.size_left;const c={node:s,remainder:e-s.size_left,nodeStartOffset:l};return this.h.set(c),c}else e-=s.size_left+s.piece.length,l+=s.size_left+s.piece.length,s=s.right;return null}H(e,s){let n=this.root,l=0;for(;n!==P.$rB;)if(n.left!==P.$rB&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){const c=this.B(n,e-n.lf_left-2),w=this.B(n,e-n.lf_left-1);return l+=n.size_left,{node:n,remainder:Math.min(c+s-1,w),nodeStartOffset:l}}else if(n.lf_left+n.piece.lineFeedCnt===e-1){const c=this.B(n,e-n.lf_left-2);if(c+s-1<=n.piece.length)return{node:n,remainder:c+s-1,nodeStartOffset:l};s-=n.piece.length-c;break}else e-=n.lf_left+n.piece.lineFeedCnt,l+=n.size_left+n.piece.length,n=n.right;for(n=n.next();n!==P.$rB;){if(n.piece.lineFeedCnt>0){const c=this.B(n,0),w=this.J(n);return{node:n,remainder:Math.min(s-1,c),nodeStartOffset:w}}else if(n.piece.length>=s-1){const c=this.J(n);return{node:n,remainder:s-1,nodeStartOffset:c}}else s-=n.piece.length;n=n.next()}return null}I(e,s){if(e.piece.lineFeedCnt<1)return-1;const n=this.a[e.piece.bufferIndex],l=this.u(e.piece.bufferIndex,e.piece.start)+s;return n.buffer.charCodeAt(l)}J(e){if(!e)return 0;let s=e.size_left;for(;e!==this.root;)e.parent.right===e&&(s+=e.parent.size_left+e.parent.piece.length),e=e.parent;return s}K(){return!(this.f&&this.d===`
`)}L(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===P.$rB||e.piece.lineFeedCnt===0)return!1;const s=e.piece,n=this.a[s.bufferIndex].lineStarts,l=s.start.line,c=n[l]+s.start.column;return l===n.length-1||n[l+1]>c+1?!1:this.a[s.bufferIndex].buffer.charCodeAt(c)===10}M(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===P.$rB||e.piece.lineFeedCnt===0?!1:this.I(e,e.piece.length-1)===13}N(e){if(this.K()&&this.L(e)){const s=e.prev();this.M(s)&&this.P(s,e)}}O(e){if(this.K()&&this.M(e)){const s=e.next();this.L(s)&&this.P(e,s)}}P(e,s){const n=[],l=this.a[e.piece.bufferIndex].lineStarts;let c;e.piece.end.column===0?c={line:e.piece.end.line-1,column:l[e.piece.end.line]-l[e.piece.end.line-1]-1}:c={line:e.piece.end.line,column:e.piece.end.column-1};const w=e.piece.length-1,L=e.piece.lineFeedCnt-1;e.piece=new g(e.piece.bufferIndex,e.piece.start,c,L,w),(0,P.$yB)(this,e,-1,-1),e.piece.length===0&&n.push(e);const A={line:s.piece.start.line+1,column:0},O=s.piece.length-1,a=this.t(s.piece.bufferIndex,A,s.piece.end);s.piece=new g(s.piece.bufferIndex,A,s.piece.end,a,O),(0,P.$yB)(this,s,-1,-1),s.piece.length===0&&n.push(s);const v=this.w(`\r
`);this.S(e,v[0]);for(let k=0;k<n.length;k++)(0,P.$wB)(this,n[k])}Q(e,s){if(this.K()&&this.M(e)){const n=s.next();if(this.L(n)){if(e+=`
`,n.piece.length===1)(0,P.$wB)(this,n);else{const l=n.piece,c={line:l.start.line+1,column:0},w=l.length-1,L=this.t(l.bufferIndex,c,l.end);n.piece=new g(l.bufferIndex,c,l.end,L,w),(0,P.$yB)(this,n,-1,-1)}return!0}}return!1}iterate(e,s){if(e===P.$rB)return s(P.$rB);const n=this.iterate(e.left,s);return n&&s(e)&&this.iterate(e.right,s)}R(e){if(e===P.$rB)return"";const s=this.a[e.piece.bufferIndex],n=e.piece,l=this.u(n.bufferIndex,n.start),c=this.u(n.bufferIndex,n.end);return s.buffer.substring(l,c)}getPieceContent(e){const s=this.a[e.bufferIndex],n=this.u(e.bufferIndex,e.start),l=this.u(e.bufferIndex,e.end);return s.buffer.substring(n,l)}S(e,s){const n=new P.$qB(s,1);if(n.left=P.$rB,n.right=P.$rB,n.parent=P.$rB,n.size_left=0,n.lf_left=0,this.root===P.$rB)this.root=n,n.color=0;else if(e.right===P.$rB)e.right=n,n.parent=e;else{const c=(0,P.$sB)(e.right);c.left=n,n.parent=c}return(0,P.$xB)(this,n),n}T(e,s){const n=new P.$qB(s,1);if(n.left=P.$rB,n.right=P.$rB,n.parent=P.$rB,n.size_left=0,n.lf_left=0,this.root===P.$rB)this.root=n,n.color=0;else if(e.left===P.$rB)e.left=n,n.parent=e;else{const l=(0,P.$tB)(e.left);l.right=n,n.parent=l}return(0,P.$xB)(this,n),n}U(e){let s="";return this.iterate(e,n=>(s+=this.R(n),!0)),s}}t.$KB=u}),define(lt[10],ut([0,1,5,2,3,38]),function(st,t,G,V,U,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$9f=t.$8f=t.$7f=t.$6f=t.$5f=t.$4f=t.$3f=t.$2f=t.$1f=t.$Zf=t.$Yf=t.$Xf=t.$Wf=t.$Vf=t.$Uf=t.$Tf=void 0;function W(a){return a===47||a===92}t.$Tf=W;function H(a){return a.replace(/[\\/]/g,G.$fc.sep)}t.$Uf=H;function E(a){return a.indexOf("/")===-1&&(a=H(a)),/^[a-zA-Z]:(\/|$)/.test(a)&&(a="/"+a),a}t.$Vf=E;function d(a,v=G.$fc.sep){if(!a)return"";const k=a.length,T=a.charCodeAt(0);if(W(T)){if(W(a.charCodeAt(1))&&!W(a.charCodeAt(2))){let p=3;const D=p;for(;p<k&&!W(a.charCodeAt(p));p++);if(D!==p&&!W(a.charCodeAt(p+1))){for(p+=1;p<k;p++)if(W(a.charCodeAt(p)))return a.slice(0,p+1).replace(/[\\/]/g,v)}}return v}else if(h(T)&&a.charCodeAt(1)===58)return W(a.charCodeAt(2))?a.slice(0,2)+v:a.slice(0,2);let B=a.indexOf("://");if(B!==-1){for(B+=3;B<k;B++)if(W(a.charCodeAt(B)))return a.slice(0,B+1)}return""}t.$Wf=d;function b(a){if(!V.$i||!a||a.length<5)return!1;let v=a.charCodeAt(0);if(v!==92||(v=a.charCodeAt(1),v!==92))return!1;let k=2;const T=k;for(;k<a.length&&(v=a.charCodeAt(k),v!==92);k++);return!(T===k||(v=a.charCodeAt(k+1),isNaN(v)||v===92))}t.$Xf=b;const j=/[\\/:\*\?"<>\|]/g,g=/[\\/]/g,N=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function m(a,v=V.$i){const k=v?j:g;return!(!a||a.length===0||/^\s+$/.test(a)||(k.lastIndex=0,k.test(a))||v&&N.test(a)||a==="."||a===".."||v&&a[a.length-1]==="."||v&&a.length!==a.trim().length||a.length>255)}t.$Yf=m;function f(a,v,k){const T=a===v;return!k||T?T:!a||!v?!1:(0,U.$5e)(a,v)}t.$Zf=f;function u(a,v,k,T=G.sep){if(a===v)return!0;if(!a||!v||v.length>a.length)return!1;if(k){if(!(0,U.$6e)(a,v))return!1;if(v.length===a.length)return!0;let p=v.length;return v.charAt(v.length-1)===T&&p--,a.charAt(p)===T}return v.charAt(v.length-1)!==T&&(v+=T),a.indexOf(v)===0}t.$1f=u;function h(a){return a>=65&&a<=90||a>=97&&a<=122}t.$2f=h;function e(a,v){return V.$i&&a.endsWith(":")&&(a+=G.sep),(0,G.$hc)(a)||(a=(0,G.$ic)(v,a)),a=(0,G.$gc)(a),V.$i?(a=(0,U.$Ne)(a,G.sep),a.endsWith(":")&&(a+=G.sep)):(a=(0,U.$Ne)(a,G.sep),a||(a=G.sep)),a}t.$3f=e;function s(a){const v=(0,G.$gc)(a);return V.$i?a.length>3?!1:n(v)&&(a.length===2||v.charCodeAt(2)===92):v===G.$fc.sep}t.$4f=s;function n(a,v=V.$i){return v?h(a.charCodeAt(0))&&a.charCodeAt(1)===58:!1}t.$5f=n;function l(a,v=V.$i){return n(a,v)?a[0]:void 0}t.$6f=l;function c(a,v,k){return v.length>a.length?-1:a===v?0:(k&&(a=a.toLowerCase(),v=v.toLowerCase()),a.indexOf(v))}t.$7f=c;function w(a){const v=a.split(":");let k,T,B;for(const p of v){const D=Number(p);(0,P.$Ff)(D)?T===void 0?T=D:B===void 0&&(B=D):k=k?[k,p].join(":"):p}if(!k)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:k,line:T!==void 0?T:void 0,column:B!==void 0?B:T!==void 0?1:void 0}}t.$8f=w;const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",A="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function O(a,v,k=8){let T="";for(let p=0;p<k;p++){let D;p===0&&V.$i&&!v&&(k===3||k===4)?D=A:D=L,T+=D.charAt(Math.floor(Math.random()*D.length))}let B;return v?B=`${v}-${T}`:B=T,a?(0,G.$ic)(a,B):B}t.$9f=O}),define(lt[19],ut([0,1,5]),function(st,t,G){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Zr=t.$Yr=t.$Xr=t.$Wr=t.$Vr=void 0,t.$Vr=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const V={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},U={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function P(b){const j=(0,G.$nc)(b),g=V[j.toLowerCase()];return g!==void 0?g:W(b)}t.$Wr=P;function W(b){const j=(0,G.$nc)(b);return U[j.toLowerCase()]}t.$Xr=W;function H(b){for(const j in U)if(U[j]===b)return j}t.$Yr=H;const E=/^(.+)\/(.+?)(;.+)?$/;function d(b,j){const g=E.exec(b);return g?`${g[1].toLowerCase()}/${g[2].toLowerCase()}${g[3]??""}`:j?void 0:b}t.$Zr=d}),define(lt[11],ut([0,1,4,2,12]),function(st,t,G,V,U){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COI=t.$fg=t.$eg=t.$dg=t.$cg=t.$bg=t.$ag=t.$_f=t.$$f=t.$0f=t.Schemas=void 0;var P;(function(d){d.inMemory="inmemory",d.vscode="vscode",d.internal="private",d.walkThrough="walkThrough",d.walkThroughSnippet="walkThroughSnippet",d.http="http",d.https="https",d.file="file",d.mailto="mailto",d.untitled="untitled",d.data="data",d.command="command",d.vscodeRemote="vscode-remote",d.vscodeRemoteResource="vscode-remote-resource",d.vscodeManagedRemoteResource="vscode-managed-remote-resource",d.vscodeUserData="vscode-userdata",d.vscodeCustomEditor="vscode-custom-editor",d.vscodeNotebookCell="vscode-notebook-cell",d.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",d.vscodeNotebookCellOutput="vscode-notebook-cell-output",d.vscodeInteractiveInput="vscode-interactive-input",d.vscodeSettings="vscode-settings",d.vscodeWorkspaceTrust="vscode-workspace-trust",d.vscodeTerminal="vscode-terminal",d.vscodeChatSesssion="vscode-chat-editor",d.webviewPanel="webview-panel",d.vscodeWebview="vscode-webview",d.extension="extension",d.vscodeFileResource="vscode-file",d.tmp="tmp",d.vsls="vsls",d.vscodeSourceControl="vscode-scm"})(P||(t.Schemas=P={})),t.$0f="vscode-tkn",t.$$f="tkn";class W{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${P.vscodeRemoteResource}`}setPreferredWebSchema(b){this.d=b}setDelegate(b){this.e=b}setServerRootPath(b){this.f=`${b}/${P.vscodeRemoteResource}`}set(b,j,g){this.a[b]=j,this.b[b]=g}setConnectionToken(b,j){this.c[b]=j}getPreferredWebSchema(){return this.d}rewrite(b){if(this.e)try{return this.e(b)}catch(u){return G.$Z(u),b}const j=b.authority;let g=this.a[j];g&&g.indexOf(":")!==-1&&g.indexOf("[")===-1&&(g=`[${g}]`);const N=this.b[j],m=this.c[j];let f=`path=${encodeURIComponent(b.path)}`;return typeof m=="string"&&(f+=`&${t.$$f}=${encodeURIComponent(m)}`),U.URI.from({scheme:V.$o?this.d:P.vscodeRemoteResource,authority:`${g}:${N}`,path:this.f,query:f})}}t.$_f=new W,t.$ag="vs/../../extensions",t.$bg="vs/../../node_modules",t.$cg="vs/../../node_modules.asar",t.$dg="vs/../../node_modules.asar.unpacked",t.$eg="vscode-app";class H{static{this.a=t.$eg}asBrowserUri(b){const j=this.b(b,st);return this.uriToBrowserUri(j)}uriToBrowserUri(b){return b.scheme===P.vscodeRemote?t.$_f.rewrite(b):b.scheme===P.file&&(V.$m||V.$q===`${P.vscodeFileResource}://${H.a}`)?b.with({scheme:P.vscodeFileResource,authority:b.authority||H.a,query:null,fragment:null}):b}asFileUri(b){const j=this.b(b,st);return this.uriToFileUri(j)}uriToFileUri(b){return b.scheme===P.vscodeFileResource?b.with({scheme:P.file,authority:b.authority!==H.a?b.authority:null,query:null,fragment:null}):b}b(b,j){return U.URI.isUri(b)?b:U.URI.parse(j.toUrl(b))}}t.$fg=new H;var E;(function(d){const b=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);d.CoopAndCoep=Object.freeze(b.get("3"));const j="vscode-coi";function g(m){let f;typeof m=="string"?f=new URL(m).searchParams:m instanceof URL?f=m.searchParams:U.URI.isUri(m)&&(f=new URL(m.toString(!0)).searchParams);const u=f?.get(j);if(u)return b.get(u)}d.getHeadersFromQuery=g;function N(m,f,u){if(!globalThis.crossOriginIsolated)return;const h=f&&u?"3":u?"2":"1";m instanceof URLSearchParams?m.set(j,h):m[j]=h}d.addSearchParam=N})(E||(t.COI=E={}))}),define(lt[20],ut([0,1,10,11,5,2,3,12]),function(st,t,G,V,U,P,W,H){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Ig=t.DataUri=t.$Hg=t.$Gg=t.$Fg=t.$Eg=t.$Dg=t.$Cg=t.$Bg=t.$Ag=t.$zg=t.$yg=t.$xg=t.$wg=t.$vg=t.$ug=t.$tg=t.$sg=t.$rg=t.$qg=t.$pg=t.$og=t.$ng=t.$mg=void 0;function E(N){return(0,H.$vc)(N,!0)}t.$mg=E;class d{constructor(m){this.a=m}compare(m,f,u=!1){return m===f?0:(0,W.$Xe)(this.getComparisonKey(m,u),this.getComparisonKey(f,u))}isEqual(m,f,u=!1){return m===f?!0:!m||!f?!1:this.getComparisonKey(m,u)===this.getComparisonKey(f,u)}getComparisonKey(m,f=!1){return m.with({path:this.a(m)?m.path.toLowerCase():void 0,fragment:f?null:void 0}).toString()}ignorePathCasing(m){return this.a(m)}isEqualOrParent(m,f,u=!1){if(m.scheme===f.scheme){if(m.scheme===V.Schemas.file)return G.$1f(E(m),E(f),this.a(m))&&m.query===f.query&&(u||m.fragment===f.fragment);if((0,t.$Dg)(m.authority,f.authority))return G.$1f(m.path,f.path,this.a(m),"/")&&m.query===f.query&&(u||m.fragment===f.fragment)}return!1}joinPath(m,...f){return H.URI.joinPath(m,...f)}basenameOrAuthority(m){return(0,t.$vg)(m)||m.authority}basename(m){return U.$fc.basename(m.path)}extname(m){return U.$fc.extname(m.path)}dirname(m){if(m.path.length===0)return m;let f;return m.scheme===V.Schemas.file?f=H.URI.file(U.$lc(E(m))).path:(f=U.$fc.dirname(m.path),m.authority&&f.length&&f.charCodeAt(0)!==47&&(console.error(`dirname("${m.toString})) resulted in a relative path`),f="/")),m.with({path:f})}normalizePath(m){if(!m.path.length)return m;let f;return m.scheme===V.Schemas.file?f=H.URI.file(U.$gc(E(m))).path:f=U.$fc.normalize(m.path),m.with({path:f})}relativePath(m,f){if(m.scheme!==f.scheme||!(0,t.$Dg)(m.authority,f.authority))return;if(m.scheme===V.Schemas.file){const e=U.$kc(E(m),E(f));return P.$i?G.$Uf(e):e}let u=m.path||"/";const h=f.path||"/";if(this.a(m)){let e=0;for(const s=Math.min(u.length,h.length);e<s&&!(u.charCodeAt(e)!==h.charCodeAt(e)&&u.charAt(e).toLowerCase()!==h.charAt(e).toLowerCase());e++);u=h.substr(0,e)+u.substr(e)}return U.$fc.relative(u,h)}resolvePath(m,f){if(m.scheme===V.Schemas.file){const u=H.URI.file(U.$jc(E(m),f));return m.with({authority:u.authority,path:u.path})}return f=G.$Vf(f),m.with({path:U.$fc.resolve(m.path,f)})}isAbsolutePath(m){return!!m.path&&m.path[0]==="/"}isEqualAuthority(m,f){return m===f||m!==void 0&&f!==void 0&&(0,W.$5e)(m,f)}hasTrailingPathSeparator(m,f=U.sep){if(m.scheme===V.Schemas.file){const u=E(m);return u.length>G.$Wf(u).length&&u[u.length-1]===f}else{const u=m.path;return u.length>1&&u.charCodeAt(u.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(m.fsPath)}}removeTrailingPathSeparator(m,f=U.sep){return(0,t.$Eg)(m,f)?m.with({path:m.path.substr(0,m.path.length-1)}):m}addTrailingPathSeparator(m,f=U.sep){let u=!1;if(m.scheme===V.Schemas.file){const h=E(m);u=h!==void 0&&h.length===G.$Wf(h).length&&h[h.length-1]===f}else{f="/";const h=m.path;u=h.length===1&&h.charCodeAt(h.length-1)===47}return!u&&!(0,t.$Eg)(m,f)?m.with({path:m.path+"/"}):m}}t.$ng=d,t.$og=new d(()=>!1),t.$pg=new d(N=>N.scheme===V.Schemas.file?!P.$k:!0),t.$qg=new d(N=>!0),t.$rg=t.$og.isEqual.bind(t.$og),t.$sg=t.$og.isEqualOrParent.bind(t.$og),t.$tg=t.$og.getComparisonKey.bind(t.$og),t.$ug=t.$og.basenameOrAuthority.bind(t.$og),t.$vg=t.$og.basename.bind(t.$og),t.$wg=t.$og.extname.bind(t.$og),t.$xg=t.$og.dirname.bind(t.$og),t.$yg=t.$og.joinPath.bind(t.$og),t.$zg=t.$og.normalizePath.bind(t.$og),t.$Ag=t.$og.relativePath.bind(t.$og),t.$Bg=t.$og.resolvePath.bind(t.$og),t.$Cg=t.$og.isAbsolutePath.bind(t.$og),t.$Dg=t.$og.isEqualAuthority.bind(t.$og),t.$Eg=t.$og.hasTrailingPathSeparator.bind(t.$og),t.$Fg=t.$og.removeTrailingPathSeparator.bind(t.$og),t.$Gg=t.$og.addTrailingPathSeparator.bind(t.$og);function b(N,m){const f=[];for(let u=0;u<N.length;u++){const h=m(N[u]);N.some((e,s)=>s===u?!1:(0,t.$sg)(h,m(e)))||f.push(N[u])}return f}t.$Hg=b;var j;(function(N){N.META_DATA_LABEL="label",N.META_DATA_DESCRIPTION="description",N.META_DATA_SIZE="size",N.META_DATA_MIME="mime";function m(f){const u=new Map;f.path.substring(f.path.indexOf(";")+1,f.path.lastIndexOf(";")).split(";").forEach(s=>{const[n,l]=s.split(":");n&&l&&u.set(n,l)});const e=f.path.substring(0,f.path.indexOf(";"));return e&&u.set(N.META_DATA_MIME,e),u}N.parseMetaData=m})(j||(t.DataUri=j={}));function g(N,m,f){if(m){let u=N.path;return u&&u[0]!==U.$fc.sep&&(u=U.$fc.sep+u),N.with({scheme:f,authority:m,path:u})}return N.with({scheme:f})}t.$Ig=g}),define(lt[21],ut([0,1,39,4,22,7,20,2,14]),function(st,t,G,V,U,P,W,H,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$lh=t.$kh=t.$jh=t.$ih=t.Promises=t.$hh=t.$gh=t.$fh=t.$eh=t.$dh=t.$ch=t.$bh=t.$ah=t.$_g=t.$$g=t.$0g=t.$9g=t.$8g=t.$7g=t.$6g=t.$5g=t.$4g=t.$3g=t.$2g=t.$1g=t.$Zg=t.$Yg=t.$Xg=t.$Wg=t.$Vg=t.$Ug=t.$Tg=t.$Sg=t.$Rg=t.$Qg=t.$Pg=t.$Og=t.$Ng=t.$Mg=t.$Lg=t.$Kg=t.$Jg=void 0;function d($){return!!$&&typeof $.then=="function"}t.$Jg=d;function b($){const r=new G.$1d,C=$(r.token),I=new Promise((R,Z)=>{const rt=r.token.onCancellationRequested(()=>{rt.dispose(),r.dispose(),Z(new V.$4)});Promise.resolve(C).then(ct=>{rt.dispose(),r.dispose(),R(ct)},ct=>{rt.dispose(),r.dispose(),Z(ct)})});return new class{cancel(){r.cancel()}then(R,Z){return I.then(R,Z)}catch(R){return this.then(void 0,R)}finally(R){return I.finally(R)}}}t.$Kg=b;function j($,r,C){return new Promise((I,R)=>{const Z=r.onCancellationRequested(()=>{Z.dispose(),I(C)});$.then(I,R).finally(()=>Z.dispose())})}t.$Lg=j;function g($,r){return new Promise((C,I)=>{const R=r.onCancellationRequested(()=>{R.dispose(),I(new V.$4)});$.then(C,I).finally(()=>R.dispose())})}t.$Mg=g;async function N($){let r=-1;const C=$.map((I,R)=>I.then(Z=>(r=R,Z)));try{return await Promise.race(C)}finally{$.forEach((I,R)=>{R!==r&&I.cancel()})}}t.$Ng=N;function m($,r,C){let I;const R=setTimeout(()=>{I?.(void 0),C?.()},r);return Promise.race([$.finally(()=>clearTimeout(R)),new Promise(Z=>I=Z)])}t.$Og=m;function f($){return new Promise((r,C)=>{const I=$();d(I)?I.then(r,C):r(I)})}t.$Pg=f;class u{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(r){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=r,!this.b){const C=()=>{if(this.b=null,this.f)return;const I=this.queue(this.d);return this.d=null,I};this.b=new Promise(I=>{this.a.then(C,C).then(I)})}return new Promise((C,I)=>{this.b.then(C,I)})}return this.a=r(),new Promise((C,I)=>{this.a.then(R=>{this.a=null,C(R)},R=>{this.a=null,I(R)})})}dispose(){this.f=!0}}t.$Qg=u;class h{constructor(){this.a=Promise.resolve(null)}queue(r){return this.a=this.a.then(()=>r(),()=>r())}}t.$Rg=h;class e{constructor(){this.a=new Map}queue(r,C){const R=(this.a.get(r)??Promise.resolve()).catch(()=>{}).then(C).finally(()=>{this.a.get(r)===R&&this.a.delete(r)});return this.a.set(r,R),R}}t.$Sg=e;const s=($,r)=>{let C=!0;const I=setTimeout(()=>{C=!1,r()},$);return{isTriggered:()=>C,dispose:()=>{clearTimeout(I),C=!1}}},n=$=>{let r=!0;return queueMicrotask(()=>{r&&(r=!1,$())}),{isTriggered:()=>r,dispose:()=>{r=!1}}};class l{constructor(r){this.defaultDelay=r,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(r,C=this.defaultDelay){this.g=r,this.h(),this.b||(this.b=new Promise((R,Z)=>{this.d=R,this.f=Z}).then(()=>{if(this.b=null,this.d=null,this.g){const R=this.g;return this.g=null,R()}}));const I=()=>{this.a=null,this.d?.(null)};return this.a=C===E.$Nd?n(I):s(C,I),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new V.$4),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}t.$Tg=l;class c{constructor(r){this.a=new l(r),this.b=new u}trigger(r,C){return this.a.trigger(()=>this.b.queue(r),C)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}t.$Ug=c;class w{constructor(){this.a=!1,this.b=new Promise((r,C)=>{this.d=r})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}t.$Vg=w;class L extends w{constructor(r){super(),this.f=setTimeout(()=>this.open(),r)}open(){clearTimeout(this.f),super.open()}}t.$Wg=L;function A($,r){return r?new Promise((C,I)=>{const R=setTimeout(()=>{Z.dispose(),C()},$),Z=r.onCancellationRequested(()=>{clearTimeout(R),Z.dispose(),I(new V.$4)})}):b(C=>A($,C))}t.$Xg=A;function O($,r=0,C){const I=setTimeout(()=>{$(),C&&R.dispose()},r),R=(0,P.$Pc)(()=>{clearTimeout(I),C?.deleteAndLeak(R)});return C?.add(R),R}t.$Yg=O;function a($){const r=[];let C=0;const I=$.length;function R(){return C<I?$[C++]():null}function Z(rt){rt!=null&&r.push(rt);const ct=R();return ct?ct.then(Z):Promise.resolve(r)}return Promise.resolve(null).then(Z)}t.$Zg=a;function v($,r=I=>!!I,C=null){let I=0;const R=$.length,Z=()=>{if(I>=R)return Promise.resolve(C);const rt=$[I++];return Promise.resolve(rt()).then(ht=>r(ht)?Promise.resolve(ht):Z())};return Z()}t.$1g=v;function k($,r=I=>!!I,C=null){if($.length===0)return Promise.resolve(C);let I=$.length;const R=()=>{I=-1;for(const Z of $)Z.cancel?.()};return new Promise((Z,rt)=>{for(const ct of $)ct.then(ht=>{--I>=0&&r(ht)?(R(),Z(ht)):I===0&&Z(C)}).catch(ht=>{--I>=0&&(R(),rt(ht))})})}t.$2g=k;class T{constructor(r){this.a=0,this.d=r,this.f=[],this.b=0,this.g=new U.$Qd}get onDrained(){return this.g.event}get size(){return this.a}queue(r){return this.a++,new Promise((C,I)=>{this.f.push({factory:r,c:C,e:I}),this.h()})}h(){for(;this.f.length&&this.b<this.d;){const r=this.f.shift();this.b++;const C=r.factory();C.then(r.c,r.e),C.then(()=>this.j(),()=>this.j())}}j(){this.a--,this.b--,this.f.length>0?this.h():this.g.fire()}dispose(){this.g.dispose()}}t.$3g=T;class B extends T{constructor(){super(1)}}t.$4g=B;class p{constructor(){this.a=new q,this.b=0}queue(r){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,r())):this.a.run(this.b++,r())}}t.$5g=p;class D{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const r=new Y;return this.b.add(r),r.p}g(){for(const[,r]of this.a)if(r.size>0)return!1;return!0}queueFor(r,C=W.$og){const I=C.getComparisonKey(r);let R=this.a.get(I);if(!R){R=new B;const Z=this.f++,rt=U.Event.once(R.onDrained)(()=>{R?.dispose(),this.a.delete(I),this.h(),this.d?.deleteAndDispose(Z),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new P.$Zc),this.d.set(Z,rt),this.a.set(I,R)}return R}h(){this.g()&&this.j()}j(){for(const r of this.b)r.complete();this.b.clear()}dispose(){for(const[,r]of this.a)r.dispose();this.a.clear(),this.j(),this.d?.dispose()}}t.$6g=D;class J{constructor(r,C){this.a=-1,typeof r=="function"&&typeof C=="number"&&this.setIfNotSet(r,C)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(r,C){this.cancel(),this.a=setTimeout(()=>{this.a=-1,r()},C)}setIfNotSet(r,C){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,r()},C))}}t.$7g=J;class _{constructor(){this.d=void 0}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(r,C,I=globalThis){this.cancel();const R=I.setInterval(()=>{r()},C);this.d=(0,P.$Pc)(()=>{I.clearInterval(R),this.d=void 0})}dispose(){this.cancel()}}t.$8g=_;class x{constructor(r,C){this.b=-1,this.a=r,this.d=C,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(r=this.d){this.cancel(),this.b=setTimeout(this.f,r)}get delay(){return this.d}set delay(r){this.d=r}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}t.$9g=x;class et{constructor(r,C){C%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${C}ms is not a multiple of 1000ms.`),this.a=r,this.b=C,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(r=this.b){r%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${r}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(r/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}t.$0g=et;class tt extends x{constructor(r,C){super(r,C),this.j=[]}work(r){this.j.push(r),this.isScheduled()||this.schedule()}h(){const r=this.j;this.j=[],this.a?.(r)}dispose(){this.j=[],super.dispose()}}t.$$g=tt;class y extends P.$Rc{constructor(r,C){super(),this.g=r,this.h=C,this.a=[],this.b=this.B(new P.$Sc),this.f=!1}get pending(){return this.a.length}work(r){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+r.length>this.g.maxBufferedWork)return!1}else if(this.pending+r.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const C of r)this.a.push(C);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new x(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}t.$_g=y,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?t.$bh=($,r)=>{(0,H.$B)(()=>{if(C)return;const I=Date.now()+15;r(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,I-Date.now())}}))});let C=!1;return{dispose(){C||(C=!0)}}}:t.$bh=($,r,C)=>{const I=$.requestIdleCallback(r,typeof C=="number"?{timeout:C}:void 0);let R=!1;return{dispose(){R||(R=!0,$.cancelIdleCallback(I))}}},t.$ah=$=>(0,t.$bh)(globalThis,$)}();class Q{constructor(r,C){this.g=!1,this.d=()=>{try{this.j=C()}catch(I){this.l=I}finally{this.g=!0}},this.f=(0,t.$bh)(r,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}t.$ch=Q;class it extends Q{constructor(r){super(globalThis,r)}}t.$dh=it;async function M($,r,C){let I;for(let R=0;R<C;R++)try{return await $()}catch(Z){I=Z,await A(r)}throw I}t.$eh=M;class q{isRunning(r){return typeof r=="number"?this.a?.taskId===r:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(r,C,I){return this.a={taskId:r,cancel:()=>I?.(),promise:C},C.then(()=>this.d(r),()=>this.d(r)),C}d(r){this.a&&r===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const r=this.b;this.b=void 0,r.run().then(r.promiseResolve,r.promiseReject)}}queue(r){if(this.b)this.b.run=r;else{let C,I;const R=new Promise((Z,rt)=>{C=Z,I=rt});this.b={run:r,promise:R,promiseResolve:C,promiseReject:I}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}t.$fh=q;class z{constructor(r,C=()=>Date.now()){this.d=r,this.f=C,this.a=0,this.b=0}increment(){const r=this.f();return r-this.a>this.d&&(this.a=r,this.b=0),this.b++,this.b}}t.$gh=z;var X;(function($){$[$.Resolved=0]="Resolved",$[$.Rejected=1]="Rejected"})(X||(X={}));class Y{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((r,C)=>{this.a=r,this.b=C})}complete(r){return new Promise(C=>{this.a(r),this.d={outcome:0,value:r},C()})}error(r){return new Promise(C=>{this.b(r),this.d={outcome:1,value:r},C()})}cancel(){return this.error(new V.$4)}}t.$hh=Y;var K;(function($){async function r(I){let R;const Z=await Promise.all(I.map(rt=>rt.then(ct=>ct,ct=>{R||(R=ct)})));if(typeof R<"u")throw R;return Z}$.settled=r;function C(I){return new Promise(async(R,Z)=>{try{await I(R,Z)}catch(rt){Z(rt)}})}$.withAsyncBody=C})(K||(t.Promises=K={}));var nt;(function($){$[$.Initial=0]="Initial",$[$.DoneOK=1]="DoneOK",$[$.DoneError=2]="DoneError"})(nt||(nt={}));class F{static fromArray(r){return new F(C=>{C.emitMany(r)})}static fromPromise(r){return new F(async C=>{C.emitMany(await r)})}static fromPromises(r){return new F(async C=>{await Promise.all(r.map(async I=>C.emitOne(await I)))})}static merge(r){return new F(async C=>{await Promise.all(r.map(async I=>{for await(const R of I)C.emitOne(R)}))})}static{this.EMPTY=F.fromArray([])}constructor(r){this.a=0,this.b=[],this.d=null,this.f=new U.$Qd,queueMicrotask(async()=>{const C={emitOne:I=>this.g(I),emitMany:I=>this.h(I),reject:I=>this.k(I)};try{await Promise.resolve(r(C)),this.j()}catch(I){this.k(I)}finally{C.emitOne=void 0,C.emitMany=void 0,C.reject=void 0}})}[Symbol.asyncIterator](){let r=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(r<this.b.length)return{done:!1,value:this.b[r++]};if(this.a===1)return{done:!0,value:void 0};await U.Event.toPromise(this.f.event)}while(!0)}}}static map(r,C){return new F(async I=>{for await(const R of r)I.emitOne(C(R))})}map(r){return F.map(this,r)}static filter(r,C){return new F(async I=>{for await(const R of r)C(R)&&I.emitOne(R)})}filter(r){return F.filter(this,r)}static coalesce(r){return F.filter(r,C=>!!C)}coalesce(){return F.coalesce(this)}static async toPromise(r){const C=[];for await(const I of r)C.push(I);return C}toPromise(){return F.toPromise(this)}g(r){this.a===0&&(this.b.push(r),this.f.fire())}h(r){this.a===0&&(this.b=this.b.concat(r),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(r){this.a===0&&(this.a=2,this.d=r,this.f.fire())}}t.$ih=F;class S extends F{constructor(r,C){super(C),this.l=r}cancel(){this.l.cancel()}}t.$jh=S;function i($){const r=new G.$1d,C=$(r.token);return new S(r,async I=>{const R=r.token.onCancellationRequested(()=>{R.dispose(),r.dispose(),I.reject(new V.$4)});try{for await(const Z of C){if(r.token.isCancellationRequested)return;I.emitOne(Z)}R.dispose(),r.dispose()}catch(Z){R.dispose(),r.dispose(),I.reject(Z)}})}t.$kh=i;class o{constructor(){this.a=new Y,this.b=new F(I=>{if(r){I.reject(r);return}return C&&I.emitMany(C),this.d=R=>I.reject(R),this.f=R=>I.emitOne(R),this.a.p});let r,C;this.f=I=>{C||(C=[]),C.push(I)},this.d=I=>{r||(r=I)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(r){this.d(r),this.a.complete()}emitOne(r){this.f(r)}}t.$lh=o}),define(lt[23],ut([0,1,40,21,10,41,5,2,3]),function(st,t,G,V,U,P,W,H,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Fj=t.$Ej=t.$Dj=t.$Cj=t.$Bj=t.$Aj=t.$zj=t.$yj=t.$xj=t.$wj=void 0;function d(){return Object.create(null)}t.$wj=d,t.$xj="**",t.$yj="/";const b="[/\\\\]",j="[^/\\\\]",g=/\//g;function N(M,q){switch(M){case 0:return"";case 1:return`${j}*?`;default:return`(?:${b}|${j}+${b}${q?`|${b}${j}+`:""})*?`}}function m(M,q){if(!M)return[];const z=[];let X=!1,Y=!1,K="";for(const nt of M){switch(nt){case q:if(!X&&!Y){z.push(K),K="";continue}break;case"{":X=!0;break;case"}":X=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}K+=nt}return K&&z.push(K),z}t.$zj=m;function f(M){if(!M)return"";let q="";const z=m(M,t.$yj);if(z.every(X=>X===t.$xj))q=".*";else{let X=!1;z.forEach((Y,K)=>{if(Y===t.$xj){if(X)return;q+=N(2,K===z.length-1)}else{let nt=!1,F="",S=!1,i="";for(const o of Y){if(o!=="}"&&nt){F+=o;continue}if(S&&(o!=="]"||!i)){let $;o==="-"?$=o:(o==="^"||o==="!")&&!i?$="^":o===t.$yj?$="":$=(0,E.$Ie)(o),i+=$;continue}switch(o){case"{":nt=!0;continue;case"[":S=!0;continue;case"}":{const r=`(?:${m(F,",").map(C=>f(C)).join("|")})`;q+=r,nt=!1,F="";break}case"]":{q+="["+i+"]",S=!1,i="";break}case"?":q+=j;continue;case"*":q+=N(1);continue;default:q+=(0,E.$Ie)(o)}}K<z.length-1&&(z[K+1]!==t.$xj||K+2<z.length)&&(q+=b)}X=Y===t.$xj})}return q}const u=/^\*\*\/\*\.[\w\.-]+$/,h=/^\*\*\/([\w\.-]+)\/?$/,e=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,s=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,n=/^\*\*((\/[\w\.-]+)+)\/?$/,l=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,c=new P.$Cc(1e4),w=function(){return!1},L=function(){return null};function A(M,q){if(!M)return L;let z;typeof M!="string"?z=M.pattern:z=M,z=z.trim();const X=`${z}_${!!q.trimForExclusions}`;let Y=c.get(X);if(Y)return O(Y,M);let K;return u.test(z)?Y=v(z.substr(4),z):(K=h.exec(a(z,q)))?Y=k(K[1],z):(q.trimForExclusions?s:e).test(z)?Y=T(z,q):(K=n.exec(a(z,q)))?Y=B(K[1].substr(1),z,!0):(K=l.exec(a(z,q)))?Y=B(K[1],z,!1):Y=p(z),c.set(X,Y),O(Y,M)}function O(M,q){if(typeof q=="string")return M;const z=function(X,Y){return(0,U.$1f)(X,q.base,!H.$k)?M((0,E.$Me)(X.substr(q.base.length),W.sep),Y):null};return z.allBasenames=M.allBasenames,z.allPaths=M.allPaths,z.basenames=M.basenames,z.patterns=M.patterns,z}function a(M,q){return q.trimForExclusions&&M.endsWith("/**")?M.substr(0,M.length-2):M}function v(M,q){return function(z,X){return typeof z=="string"&&z.endsWith(M)?q:null}}function k(M,q){const z=`/${M}`,X=`\\${M}`,Y=function(nt,F){return typeof nt!="string"?null:F?F===M?q:null:nt===M||nt.endsWith(z)||nt.endsWith(X)?q:null},K=[M];return Y.basenames=K,Y.patterns=[q],Y.allBasenames=K,Y}function T(M,q){const z=Q(M.slice(1,-1).split(",").map(F=>A(F,q)).filter(F=>F!==L),M),X=z.length;if(!X)return L;if(X===1)return z[0];const Y=function(F,S){for(let i=0,o=z.length;i<o;i++)if(z[i](F,S))return M;return null},K=z.find(F=>!!F.allBasenames);K&&(Y.allBasenames=K.allBasenames);const nt=z.reduce((F,S)=>S.allPaths?F.concat(S.allPaths):F,[]);return nt.length&&(Y.allPaths=nt),Y}function B(M,q,z){const X=W.sep===W.$fc.sep,Y=X?M:M.replace(g,W.sep),K=W.sep+Y,nt=W.$fc.sep+M;let F;return z?F=function(S,i){return typeof S=="string"&&(S===Y||S.endsWith(K)||!X&&(S===M||S.endsWith(nt)))?q:null}:F=function(S,i){return typeof S=="string"&&(S===Y||!X&&S===M)?q:null},F.allPaths=[(z?"*/":"./")+M],F}function p(M){try{const q=new RegExp(`^${f(M)}$`);return function(z){return q.lastIndex=0,typeof z=="string"&&q.test(z)?M:null}}catch{return L}}function D(M,q,z){return!M||typeof q!="string"?!1:J(M)(q,void 0,z)}t.$Aj=D;function J(M,q={}){if(!M)return w;if(typeof M=="string"||_(M)){const z=A(M,q);if(z===L)return w;const X=function(Y,K){return!!z(Y,K)};return z.allBasenames&&(X.allBasenames=z.allBasenames),z.allPaths&&(X.allPaths=z.allPaths),X}return tt(M,q)}t.$Bj=J;function _(M){const q=M;return q?typeof q.base=="string"&&typeof q.pattern=="string":!1}t.$Cj=_;function x(M){return M.allBasenames||[]}t.$Dj=x;function et(M){return M.allPaths||[]}t.$Ej=et;function tt(M,q){const z=Q(Object.getOwnPropertyNames(M).map(F=>y(F,M[F],q)).filter(F=>F!==L)),X=z.length;if(!X)return L;if(!z.some(F=>!!F.requiresSiblings)){if(X===1)return z[0];const F=function(o,$){let r;for(let C=0,I=z.length;C<I;C++){const R=z[C](o,$);if(typeof R=="string")return R;(0,V.$Jg)(R)&&(r||(r=[]),r.push(R))}return r?(async()=>{for(const C of r){const I=await C;if(typeof I=="string")return I}return null})():null},S=z.find(o=>!!o.allBasenames);S&&(F.allBasenames=S.allBasenames);const i=z.reduce((o,$)=>$.allPaths?o.concat($.allPaths):o,[]);return i.length&&(F.allPaths=i),F}const Y=function(F,S,i){let o,$;for(let r=0,C=z.length;r<C;r++){const I=z[r];I.requiresSiblings&&i&&(S||(S=(0,W.$mc)(F)),o||(o=S.substr(0,S.length-(0,W.$nc)(F).length)));const R=I(F,S,o,i);if(typeof R=="string")return R;(0,V.$Jg)(R)&&($||($=[]),$.push(R))}return $?(async()=>{for(const r of $){const C=await r;if(typeof C=="string")return C}return null})():null},K=z.find(F=>!!F.allBasenames);K&&(Y.allBasenames=K.allBasenames);const nt=z.reduce((F,S)=>S.allPaths?F.concat(S.allPaths):F,[]);return nt.length&&(Y.allPaths=nt),Y}function y(M,q,z){if(q===!1)return L;const X=A(M,z);if(X===L)return L;if(typeof q=="boolean")return X;if(q){const Y=q.when;if(typeof Y=="string"){const K=(nt,F,S,i)=>{if(!i||!X(nt,F))return null;const o=Y.replace("$(basename)",()=>S),$=i(o);return(0,V.$Jg)($)?$.then(r=>r?M:null):$?M:null};return K.requiresSiblings=!0,K}}return X}function Q(M,q){const z=M.filter(F=>!!F.basenames);if(z.length<2)return M;const X=z.reduce((F,S)=>{const i=S.basenames;return i?F.concat(i):F},[]);let Y;if(q){Y=[];for(let F=0,S=X.length;F<S;F++)Y.push(q)}else Y=z.reduce((F,S)=>{const i=S.patterns;return i?F.concat(i):F},[]);const K=function(F,S){if(typeof F!="string")return null;if(!S){let o;for(o=F.length;o>0;o--){const $=F.charCodeAt(o-1);if($===47||$===92)break}S=F.substr(o)}const i=X.indexOf(S);return i!==-1?Y[i]:null};K.basenames=X,K.patterns=Y,K.allBasenames=X;const nt=M.filter(F=>!F.basenames);return nt.push(K),nt}function it(M,q){return(0,G.$tb)(M,q,(z,X)=>typeof z=="string"&&typeof X=="string"?z===X:typeof z!="string"&&typeof X!="string"?z.base===X.base&&z.pattern===X.pattern:!1)}t.$Fj=it}),define(lt[24],ut([0,1,3,2,6]),function(st,t,G,V,U){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Ts=t.$Ss=t.$Rs=void 0;let P;function W(){return P||(P=new TextDecoder("UTF-16LE")),P}let H;function E(){return H||(H=new TextDecoder("UTF-16BE")),H}let d;function b(){return d||(d=V.$D()?W():E()),d}t.$Rs=b;function j(m,f,u){const h=new Uint16Array(m.buffer,f,u);return u>0&&(h[0]===65279||h[0]===65534)?g(m,f,u):W().decode(h)}t.$Ss=j;function g(m,f,u){const h=[];let e=0;for(let s=0;s<u;s++){const n=U.$ge(m,f);f+=2,h[e++]=String.fromCharCode(n)}return h.join("")}class N{constructor(f){this.a=f|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const f=new Uint16Array(this.b.buffer,0,this.d);return b().decode(f)}f(){const f=this.e();this.d=0,this.c===null?this.c=[f]:this.c[this.c.length]=f}appendCharCode(f){const u=this.a-this.d;u<=1&&(u===0||G.$9e(f))&&this.f(),this.b[this.d++]=f}appendASCIICharCode(f){this.d===this.a&&this.f(),this.b[this.d++]=f}appendString(f){const u=f.length;if(this.d+u>=this.a){this.f(),this.c[this.c.length]=f;return}for(let h=0;h<u;h++)this.b[this.d++]=f.charCodeAt(h)}}t.$Ts=N}),define(lt[25],ut([0,1,6,24]),function(st,t,G,V){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Vs=t.$Us=void 0;function U(E){return E.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class P{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(d,b,j,g){this.oldPosition=d,this.oldText=b,this.newPosition=j,this.newText=g}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${U(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${U(this.oldText)}")`:`(replace@${this.oldPosition} "${U(this.oldText)}" with "${U(this.newText)}")`}static a(d){return 4+2*d.length}static c(d,b,j){const g=b.length;G.$je(d,g,j),j+=4;for(let N=0;N<g;N++)G.$he(d,b.charCodeAt(N),j),j+=2;return j}static d(d,b){const j=G.$ie(d,b);return b+=4,(0,V.$Ss)(d,b,j)}writeSize(){return 4+4+P.a(this.oldText)+P.a(this.newText)}write(d,b){return G.$je(d,this.oldPosition,b),b+=4,G.$je(d,this.newPosition,b),b+=4,b=P.c(d,this.oldText,b),b=P.c(d,this.newText,b),b}static read(d,b,j){const g=G.$ie(d,b);b+=4;const N=G.$ie(d,b);b+=4;const m=P.d(d,b);b+=P.a(m);const f=P.d(d,b);return b+=P.a(f),j.push(new P(g,m,N,f)),b}}t.$Us=P;function W(E,d){return E===null||E.length===0?d:new H(E,d).compress()}t.$Vs=W;class H{constructor(d,b){this.a=d,this.c=b,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let d=0,b=0,j=this.n(d),g=this.l(b);for(;d<this.f||b<this.h;){if(j===null){this.k(g),g=this.l(++b);continue}if(g===null){this.m(j),j=this.n(++d);continue}if(g.oldEnd<=j.newPosition){this.k(g),g=this.l(++b);continue}if(j.newEnd<=g.oldPosition){this.m(j),j=this.n(++d);continue}if(g.oldPosition<j.newPosition){const[h,e]=H.r(g,j.newPosition-g.oldPosition);this.k(h),g=e;continue}if(j.newPosition<g.oldPosition){const[h,e]=H.q(j,g.oldPosition-j.newPosition);this.m(h),j=e;continue}let f,u;if(g.oldEnd===j.newEnd)f=j,u=g,j=this.n(++d),g=this.l(++b);else if(g.oldEnd<j.newEnd){const[h,e]=H.q(j,g.oldLength);f=h,u=g,j=e,g=this.l(++b)}else{const[h,e]=H.r(g,j.newLength);f=j,u=h,j=this.n(++d),g=e}this.d[this.e++]=new P(f.oldPosition,f.oldText,u.newPosition,u.newText),this.g+=f.newLength-f.oldLength,this.j+=u.newLength-u.oldLength}const N=H.s(this.d);return H.t(N)}k(d){this.d[this.e++]=H.o(this.g,d),this.j+=d.newLength-d.oldLength}l(d){return d<this.h?this.c[d]:null}m(d){this.d[this.e++]=H.p(this.j,d),this.g+=d.newLength-d.oldLength}n(d){return d<this.f?this.a[d]:null}static o(d,b){return new P(b.oldPosition-d,b.oldText,b.newPosition,b.newText)}static p(d,b){return new P(b.oldPosition,b.oldText,b.newPosition+d,b.newText)}static q(d,b){const j=d.newText.substr(0,b),g=d.newText.substr(b);return[new P(d.oldPosition,d.oldText,d.newPosition,j),new P(d.oldEnd,"",d.newPosition+b,g)]}static r(d,b){const j=d.oldText.substr(0,b),g=d.oldText.substr(b);return[new P(d.oldPosition,j,d.newPosition,d.newText),new P(d.oldPosition+b,g,d.newEnd,"")]}static s(d){if(d.length===0)return d;const b=[];let j=0,g=d[0];for(let N=1;N<d.length;N++){const m=d[N];g.oldEnd===m.oldPosition?g=new P(g.oldPosition,g.oldText+m.oldText,g.newPosition,g.newText+m.newText):(b[j++]=g,g=m)}return b[j++]=g,b}static t(d){if(d.length===0)return d;const b=[];let j=0;for(let g=0;g<d.length;g++){const N=d[g];N.oldText!==N.newText&&(b[j++]=N)}return b}}}),define(lt[26],ut([0,1,22,3,9,17,8,15,25,7]),function(st,t,G,V,U,P,W,H,E,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$LB=void 0;class b extends d.$Rc{constructor(g,N,m,f,u,h,e){super(),this.m=this.B(new G.$Qd),this.onDidChangeContent=this.m.event,this.f=N,this.j=!h,this.g=f,this.h=u,this.c=new W.$KB(g,m,e)}equals(g){return!(g instanceof b)||this.f!==g.f||this.getEOL()!==g.getEOL()?!1:this.c.equal(g.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot(g){return this.c.createSnapshot(g?this.f:"")}getOffsetAt(g,N){return this.c.getOffsetAt(g,N)}getPositionAt(g){return this.c.getPositionAt(g)}getRangeAt(g,N){const m=g+N,f=this.getPositionAt(g),u=this.getPositionAt(m);return new U.$zs(f.lineNumber,f.column,u.lineNumber,u.column)}getValueInRange(g,N=0){if(g.isEmpty())return"";const m=this.n(N);return this.c.getValueInRange(g,m)}getValueLengthInRange(g,N=0){if(g.isEmpty())return 0;if(g.startLineNumber===g.endLineNumber)return g.endColumn-g.startColumn;const m=this.getOffsetAt(g.startLineNumber,g.startColumn),f=this.getOffsetAt(g.endLineNumber,g.endColumn);let u=0;const h=this.n(N),e=this.getEOL();if(h.length!==e.length){const s=h.length-e.length,n=g.endLineNumber-g.startLineNumber;u=s*n}return f-m+u}getCharacterCountInRange(g,N=0){if(this.j){let m=0;const f=g.startLineNumber,u=g.endLineNumber;for(let h=f;h<=u;h++){const e=this.getLineContent(h),s=h===f?g.startColumn-1:0,n=h===u?g.endColumn-1:e.length;for(let l=s;l<n;l++)V.$9e(e.charCodeAt(l))?(m=m+1,l=l+1):m=m+1}return m+=this.n(N).length*(u-f),m}return this.getValueLengthInRange(g,N)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(g){return this.c.getLineContent(g)}getLineCharCode(g,N){return this.c.getLineCharCode(g,N)}getCharCode(g){return this.c.getCharCode(g)}getLineLength(g){return this.c.getLineLength(g)}getLineMinColumn(g){return 1}getLineMaxColumn(g){return this.getLineLength(g)+1}getLineFirstNonWhitespaceColumn(g){const N=V.$Te(this.getLineContent(g));return N===-1?0:N+1}getLineLastNonWhitespaceColumn(g){const N=V.$Ve(this.getLineContent(g));return N===-1?0:N+2}n(g){switch(g){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(g){this.c.setEOL(g)}applyEdits(g,N,m){let f=this.g,u=this.h,h=this.j,e=!0,s=[];for(let O=0;O<g.length;O++){const a=g[O];e&&a._isTracked&&(e=!1);const v=a.range;if(a.text){let D=!0;h||(D=!V.$hf(a.text),h=D),!f&&D&&(f=V.$gf(a.text)),!u&&D&&(u=V.$jf(a.text))}let k="",T=0,B=0,p=0;if(a.text){let D;[T,B,p,D]=(0,H.$_s)(a.text);const J=this.getEOL();D===0||D===(J===`\r
`?2:1)?k=a.text:k=a.text.replace(/\r\n|\r|\n/g,J)}s[O]={sortIndex:O,identifier:a.identifier||null,range:v,rangeOffset:this.getOffsetAt(v.startLineNumber,v.startColumn),rangeLength:this.getValueLengthInRange(v),text:k,eolCount:T,firstLineLength:B,lastLineLength:p,forceMoveMarkers:!!a.forceMoveMarkers,isAutoWhitespaceEdit:a.isAutoWhitespaceEdit||!1}}s.sort(b.u);let n=!1;for(let O=0,a=s.length-1;O<a;O++){const v=s[O].range.getEndPosition(),k=s[O+1].range.getStartPosition();if(k.isBeforeOrEqual(v)){if(k.isBefore(v))throw new Error("Overlapping ranges are not allowed!");n=!0}}e&&(s=this.s(s));const l=m||N?b._getInverseEditRanges(s):[],c=[];if(N)for(let O=0;O<s.length;O++){const a=s[O],v=l[O];if(a.isAutoWhitespaceEdit&&a.range.isEmpty())for(let k=v.startLineNumber;k<=v.endLineNumber;k++){let T="";k===v.startLineNumber&&(T=this.getLineContent(a.range.startLineNumber),V.$Te(T)!==-1)||c.push({lineNumber:k,oldContent:T})}}let w=null;if(m){let O=0;w=[];for(let a=0;a<s.length;a++){const v=s[a],k=l[a],T=this.getValueInRange(v.range),B=v.rangeOffset+O;O+=v.text.length-T.length,w[a]={sortIndex:v.sortIndex,identifier:v.identifier,range:k,text:T,textChange:new E.$Us(v.rangeOffset,T,B,v.text)}}n||w.sort((a,v)=>a.sortIndex-v.sortIndex)}this.g=f,this.h=u,this.j=h;const L=this.t(s);let A=null;if(N&&c.length>0){c.sort((O,a)=>a.lineNumber-O.lineNumber),A=[];for(let O=0,a=c.length;O<a;O++){const v=c[O].lineNumber;if(O>0&&c[O-1].lineNumber===v)continue;const k=c[O].oldContent,T=this.getLineContent(v);T.length===0||T===k||V.$Te(T)!==-1||A.push(v)}}return this.m.fire(),new P.$Uu(w,L,A)}s(g){return g.length<1e3?g:[this._toSingleEditOperation(g)]}_toSingleEditOperation(g){let N=!1;const m=g[0].range,f=g[g.length-1].range,u=new U.$zs(m.startLineNumber,m.startColumn,f.endLineNumber,f.endColumn);let h=m.startLineNumber,e=m.startColumn;const s=[];for(let L=0,A=g.length;L<A;L++){const O=g[L],a=O.range;N=N||O.forceMoveMarkers,s.push(this.getValueInRange(new U.$zs(h,e,a.startLineNumber,a.startColumn))),O.text.length>0&&s.push(O.text),h=a.endLineNumber,e=a.endColumn}const n=s.join(""),[l,c,w]=(0,H.$_s)(n);return{sortIndex:0,identifier:g[0].identifier,range:u,rangeOffset:this.getOffsetAt(u.startLineNumber,u.startColumn),rangeLength:this.getValueLengthInRange(u,0),text:n,eolCount:l,firstLineLength:c,lastLineLength:w,forceMoveMarkers:N,isAutoWhitespaceEdit:!1}}t(g){g.sort(b.w);const N=[];for(let m=0;m<g.length;m++){const f=g[m],u=f.range.startLineNumber,h=f.range.startColumn,e=f.range.endLineNumber,s=f.range.endColumn;if(u===e&&h===s&&f.text.length===0)continue;f.text?(this.c.delete(f.rangeOffset,f.rangeLength),this.c.insert(f.rangeOffset,f.text,!0)):this.c.delete(f.rangeOffset,f.rangeLength);const n=new U.$zs(u,h,e,s);N.push({range:n,rangeLength:f.rangeLength,text:f.text,rangeOffset:f.rangeOffset,forceMoveMarkers:f.forceMoveMarkers})}return N}findMatchesLineByLine(g,N,m,f){return this.c.findMatchesLineByLine(g,N,m,f)}getPieceTree(){return this.c}static _getInverseEditRange(g,N){const m=g.startLineNumber,f=g.startColumn,[u,h,e]=(0,H.$_s)(N);let s;if(N.length>0){const n=u+1;n===1?s=new U.$zs(m,f,m,f+h):s=new U.$zs(m,f,m+n-1,e+1)}else s=new U.$zs(m,f,m,f);return s}static _getInverseEditRanges(g){const N=[];let m=0,f=0,u=null;for(let h=0,e=g.length;h<e;h++){const s=g[h];let n,l;u?u.range.endLineNumber===s.range.startLineNumber?(n=m,l=f+(s.range.startColumn-u.range.endColumn)):(n=m+(s.range.startLineNumber-u.range.endLineNumber),l=s.range.startColumn):(n=s.range.startLineNumber,l=s.range.startColumn);let c;if(s.text.length>0){const w=s.eolCount+1;w===1?c=new U.$zs(n,l,n,l+s.firstLineLength):c=new U.$zs(n,l,n+w-1,s.lastLineLength+1)}else c=new U.$zs(n,l,n,l);m=c.endLineNumber,f=c.endColumn,N.push(c),u=s}return N}static u(g,N){const m=U.$zs.compareRangesUsingEnds(g.range,N.range);return m===0?g.sortIndex-N.sortIndex:m}static w(g,N){const m=U.$zs.compareRangesUsingEnds(g.range,N.range);return m===0?N.sortIndex-g.sortIndex:-m}}t.$LB=b}),define(lt[27],ut([0,1,3,8,26]),function(st,t,G,V,U){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$MB=void 0;class P{constructor(E,d,b,j,g,N,m,f,u){this.a=E,this.b=d,this.c=b,this.d=j,this.e=g,this.f=N,this.g=m,this.h=f,this.j=u}k(E){const d=this.c+this.d+this.e,b=this.c+this.e;return d===0?E===1?`
`:`\r
`:b>d/2?`\r
`:`
`}create(E){const d=this.k(E),b=this.a;if(this.j&&(d===`\r
`&&(this.c>0||this.d>0)||d===`
`&&(this.c>0||this.e>0)))for(let g=0,N=b.length;g<N;g++){const m=b[g].buffer.replace(/\r\n|\r|\n/g,d),f=(0,V.$GB)(m);b[g]=new V.$JB(m,f)}const j=new U.$LB(b,this.b,d,this.f,this.g,this.h,this.j);return{textBuffer:j,disposable:j}}getFirstLineText(E){return this.a[0].buffer.substr(0,E).split(/\r\n|\r|\n/)[0]}}class W{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(E){if(E.length===0)return;this.a.length===0&&G.$pf(E)&&(this.b=G.$of,E=E.substr(1));const d=E.charCodeAt(E.length-1);d===13||d>=55296&&d<=56319?(this.m(E.substr(0,E.length-1),!1),this.c=!0,this.d=d):(this.m(E,!1),this.c=!1,this.d=d)}m(E,d){!d&&E.length===0||(this.c?this.n(String.fromCharCode(this.d)+E):this.n(E))}n(E){const d=(0,V.$HB)(this.e,E);this.a.push(new V.$JB(E,d.lineStarts)),this.f+=d.cr,this.g+=d.lf,this.h+=d.crlf,d.isBasicASCII||(this.l=!1,this.j||(this.j=G.$gf(E)),this.k||(this.k=G.$jf(E)))}finish(E=!0){return this.o(),new P(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,E)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const E=this.a[this.a.length-1];E.buffer+=String.fromCharCode(this.d);const d=(0,V.$GB)(E.buffer);E.lineStarts=d,this.d===13&&this.f++}}}t.$MB=W}),define(lt[28],ut([29,30]),function(st,t){return st.create("vs/platform/contextkey/common/contextkey",t)}),define(lt[31],ut([29,30]),function(st,t){return st.create("vs/platform/contextkey/common/scanner",t)}),define(lt[32],ut([0,1,4,31]),function(st,t,G,V){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Pi=t.TokenType=void 0;var U;(function(d){d[d.LParen=0]="LParen",d[d.RParen=1]="RParen",d[d.Neg=2]="Neg",d[d.Eq=3]="Eq",d[d.NotEq=4]="NotEq",d[d.Lt=5]="Lt",d[d.LtEq=6]="LtEq",d[d.Gt=7]="Gt",d[d.GtEq=8]="GtEq",d[d.RegexOp=9]="RegexOp",d[d.RegexStr=10]="RegexStr",d[d.True=11]="True",d[d.False=12]="False",d[d.In=13]="In",d[d.Not=14]="Not",d[d.And=15]="And",d[d.Or=16]="Or",d[d.Str=17]="Str",d[d.QuotedStr=18]="QuotedStr",d[d.Error=19]="Error",d[d.EOF=20]="EOF"})(U||(t.TokenType=U={}));function P(...d){switch(d.length){case 1:return(0,V.localize)(0,null,d[0]);case 2:return(0,V.localize)(1,null,d[0],d[1]);case 3:return(0,V.localize)(2,null,d[0],d[1],d[2]);default:return}}const W=(0,V.localize)(3,null),H=(0,V.localize)(4,null);class E{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(b){switch(b.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return b.isTripleEq?"===":"==";case 4:return b.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return b.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return b.lexeme;case 18:return b.lexeme;case 19:return b.lexeme;case 20:return"EOF";default:throw(0,G.$7)(`unhandled token type: ${JSON.stringify(b)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(b=>b.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(b){return this.c=b,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const j=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:j})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const j=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:j})}else this.h(126)?this.k(9):this.l(P("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(P("&&"));break;case 124:this.h(124)?this.k(16):this.l(P("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(b){return this.r()||this.c.charCodeAt(this.e)!==b?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(b){this.f.push({type:b,offset:this.d})}l(b){const j=this.d,g=this.c.substring(this.d,this.e),N={type:19,offset:this.d,lexeme:g};this.g.push({offset:j,lexeme:g,additionalInfo:b}),this.f.push(N)}n(){this.m.lastIndex=this.d;const b=this.m.exec(this.c);if(b){this.e=this.d+b[0].length;const j=this.c.substring(this.d,this.e),g=E.b.get(j);g?this.k(g):this.f.push({type:17,lexeme:j,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(W);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let b=this.e,j=!1,g=!1;for(;;){if(b>=this.c.length){this.e=b,this.l(H);return}const m=this.c.charCodeAt(b);if(j)j=!1;else if(m===47&&!g){b++;break}else m===91?g=!0:m===92?j=!0:m===93&&(g=!1);b++}for(;b<this.c.length&&E.a.has(this.c.charCodeAt(b));)b++;this.e=b;const N=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:N,offset:this.d})}r(){return this.e>=this.c.length}}t.$Pi=E}),define(lt[33],ut([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Vh=t.$Uh=t.$Th=t._util=void 0;var G;(function(W){W.serviceIds=new Map,W.DI_TARGET="$di$target",W.DI_DEPENDENCIES="$di$dependencies";function H(E){return E[W.DI_DEPENDENCIES]||[]}W.getServiceDependencies=H})(G||(t._util=G={})),t.$Th=U("instantiationService");function V(W,H,E){H[G.DI_TARGET]===H?H[G.DI_DEPENDENCIES].push({id:W,index:E}):(H[G.DI_DEPENDENCIES]=[{id:W,index:E}],H[G.DI_TARGET]=H)}function U(W){if(G.serviceIds.has(W))return G.serviceIds.get(W);const H=function(E,d,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");V(H,E,b)};return H.toString=()=>W,G.serviceIds.set(W,H),H}t.$Uh=U;function P(W){return W}t.$Vh=P}),define(lt[34],ut([0,1,2,3,32,33,28,4]),function(st,t,G,V,U,P,W,H){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$bj=t.$aj=t.$_i=t.$$i=t.$0i=t.$9i=t.$8i=t.$7i=t.$6i=t.$5i=t.$4i=t.$3i=t.$2i=t.$1i=t.$Zi=t.$Yi=t.$Xi=t.$Wi=t.$Vi=t.$Ui=t.$Ti=t.$Si=t.$Ri=t.ContextKeyExprType=t.$Qi=void 0;const E=new Map;E.set("false",!1),E.set("true",!0),E.set("isMac",G.$j),E.set("isLinux",G.$k),E.set("isWindows",G.$i),E.set("isWeb",G.$o),E.set("isMacNative",G.$j&&!G.$o),E.set("isEdge",G.$H),E.set("isFirefox",G.$F),E.set("isChrome",G.$E),E.set("isSafari",G.$G);function d(S,i){if(E.get(S)!==void 0)throw(0,H.$6)("contextkey.setConstant(k, v) invoked with already set constant `k`");E.set(S,i)}t.$Qi=d;const b=Object.prototype.hasOwnProperty;var j;(function(S){S[S.False=0]="False",S[S.True=1]="True",S[S.Defined=2]="Defined",S[S.Not=3]="Not",S[S.Equals=4]="Equals",S[S.NotEquals=5]="NotEquals",S[S.And=6]="And",S[S.Regex=7]="Regex",S[S.NotRegex=8]="NotRegex",S[S.Or=9]="Or",S[S.In=10]="In",S[S.NotIn=11]="NotIn",S[S.Greater=12]="Greater",S[S.GreaterEquals=13]="GreaterEquals",S[S.Smaller=14]="Smaller",S[S.SmallerEquals=15]="SmallerEquals"})(j||(t.ContextKeyExprType=j={}));const g={regexParsingWithErrorRecovery:!0},N=(0,W.localize)(0,null),m=(0,W.localize)(1,null),f=(0,W.localize)(2,null),u=(0,W.localize)(3,null),h=(0,W.localize)(4,null),e=(0,W.localize)(5,null),s=(0,W.localize)(6,null),n=(0,W.localize)(7,null);class l{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(i=g){this.k=i,this.d=new U.$Pi,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(i){if(i===""){this.h.push({message:N,offset:0,lexeme:"",additionalInfo:m});return}this.f=this.d.reset(i).scan(),this.g=0,this.h=[];try{const o=this.l();if(!this.E()){const $=this.D(),r=$.type===17?e:void 0;throw this.h.push({message:h,offset:$.offset,lexeme:U.$Pi.getLexeme($),additionalInfo:r}),l.c}return o}catch(o){if(o!==l.c)throw o;return}}l(){return this.m()}m(){const i=[this.o()];for(;this.y(16);){const o=this.o();i.push(o)}return i.length===1?i[0]:c.or(...i)}o(){const i=[this.s()];for(;this.y(15);){const o=this.s();i.push(o)}return i.length===1?i[0]:c.and(...i)}s(){if(this.y(2)){const i=this.D();switch(i.type){case 11:return this.z(),O.INSTANCE;case 12:return this.z(),a.INSTANCE;case 0:{this.z();const o=this.l();return this.A(1,u),o?.negate()}case 17:return this.z(),D.create(i.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",i)}}return this.t()}t(){const i=this.D();switch(i.type){case 11:return this.z(),c.true();case 12:return this.z(),c.false();case 0:{this.z();const o=this.l();return this.A(1,u),o}case 17:{const o=i.lexeme;if(this.z(),this.y(9)){const r=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),r.type!==10)throw this.B("REGEX",r);const C=r.lexeme,I=C.lastIndexOf("/"),R=I===C.length-1?void 0:this.w(C.substring(I+1));let Z;try{Z=new RegExp(C.substring(1,I),R)}catch{throw this.B("REGEX",r)}return y.create(o,Z)}switch(r.type){case 10:case 19:{const C=[r.lexeme];this.z();let I=this.D(),R=0;for(let ot=0;ot<r.lexeme.length;ot++)r.lexeme.charCodeAt(ot)===40?R++:r.lexeme.charCodeAt(ot)===41&&R--;for(;!this.E()&&I.type!==15&&I.type!==16;){switch(I.type){case 0:R++;break;case 1:R--;break;case 10:case 18:for(let ot=0;ot<I.lexeme.length;ot++)I.lexeme.charCodeAt(ot)===40?R++:r.lexeme.charCodeAt(ot)===41&&R--}if(R<0)break;C.push(U.$Pi.getLexeme(I)),this.z(),I=this.D()}const Z=C.join(""),rt=Z.lastIndexOf("/"),ct=rt===Z.length-1?void 0:this.w(Z.substring(rt+1));let ht;try{ht=new RegExp(Z.substring(1,rt),ct)}catch{throw this.B("REGEX",r)}return c.regex(o,ht)}case 18:{const C=r.lexeme;this.z();let I=null;if(!(0,V.$Ee)(C)){const R=C.indexOf("/"),Z=C.lastIndexOf("/");if(R!==Z&&R>=0){const rt=C.slice(R+1,Z),ct=C[Z+1]==="i"?"i":"";try{I=new RegExp(rt,ct)}catch{throw this.B("REGEX",r)}}}if(I===null)throw this.B("REGEX",r);return y.create(o,I)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,f);const r=this.u();return c.notIn(o,r)}switch(this.D().type){case 3:{this.z();const r=this.u();if(this.x().type===18)return c.equals(o,r);switch(r){case"true":return c.has(o);case"false":return c.not(o);default:return c.equals(o,r)}}case 4:{this.z();const r=this.u();if(this.x().type===18)return c.notEquals(o,r);switch(r){case"true":return c.not(o);case"false":return c.has(o);default:return c.notEquals(o,r)}}case 5:return this.z(),et.create(o,this.u());case 6:return this.z(),tt.create(o,this.u());case 7:return this.z(),_.create(o,this.u());case 8:return this.z(),x.create(o,this.u());case 13:return this.z(),c.in(o,this.u());default:return c.has(o)}}case 20:throw this.h.push({message:s,offset:i.offset,lexeme:"",additionalInfo:n}),l.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const i=this.D();switch(i.type){case 17:case 18:return this.z(),i.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(i){return i.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(i){return this.C(i)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(i,o){if(this.C(i))return this.z();throw this.B(o,this.D())}B(i,o,$){const r=(0,W.localize)(8,null,i,U.$Pi.getLexeme(o)),C=o.offset,I=U.$Pi.getLexeme(o);return this.h.push({message:r,offset:C,lexeme:I,additionalInfo:$}),l.c}C(i){return this.D().type===i}D(){return this.f[this.g]}E(){return this.D().type===20}}t.$Ri=l;class c{static false(){return O.INSTANCE}static true(){return a.INSTANCE}static has(i){return v.create(i)}static equals(i,o){return k.create(i,o)}static notEquals(i,o){return p.create(i,o)}static regex(i,o){return y.create(i,o)}static in(i,o){return T.create(i,o)}static notIn(i,o){return B.create(i,o)}static not(i){return D.create(i)}static and(...i){return M.create(i,null,!0)}static or(...i){return q.create(i,null,!0)}static greater(i,o){return _.create(i,o)}static greaterEquals(i,o){return x.create(i,o)}static smaller(i,o){return et.create(i,o)}static smallerEquals(i,o){return tt.create(i,o)}static{this.c=new l({regexParsingWithErrorRecovery:!1})}static deserialize(i){return i==null?void 0:this.c.parse(i)}}t.$Si=c;function w(S){const i=new l({regexParsingWithErrorRecovery:!1});return S.map(o=>(i.parse(o),i.lexingErrors.length>0?i.lexingErrors.map($=>({errorMessage:$.additionalInfo?(0,W.localize)(9,null,$.additionalInfo):(0,W.localize)(10,null),offset:$.offset,length:$.lexeme.length})):i.parsingErrors.length>0?i.parsingErrors.map($=>({errorMessage:$.additionalInfo?`${$.message}. ${$.additionalInfo}`:$.message,offset:$.offset,length:$.lexeme.length})):[]))}t.$Ti=w;function L(S,i){const o=S?S.substituteConstants():void 0,$=i?i.substituteConstants():void 0;return!o&&!$?!0:!o||!$?!1:o.equals($)}t.$Ui=L;function A(S,i){return S.cmp(i)}class O{static{this.INSTANCE=new O}constructor(){this.type=0}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!1}serialize(){return"false"}keys(){return[]}map(i){return this}negate(){return a.INSTANCE}}t.$Vi=O;class a{static{this.INSTANCE=new a}constructor(){this.type=1}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!0}serialize(){return"true"}keys(){return[]}map(i){return this}negate(){return O.INSTANCE}}t.$Wi=a;class v{static create(i,o=null){const $=E.get(i);return typeof $=="boolean"?$?a.INSTANCE:O.INSTANCE:new v(i,o)}constructor(i,o){this.key=i,this.c=o,this.type=2}cmp(i){return i.type!==this.type?this.type-i.type:X(this.key,i.key)}equals(i){return i.type===this.type?this.key===i.key:!1}substituteConstants(){const i=E.get(this.key);return typeof i=="boolean"?i?a.INSTANCE:O.INSTANCE:this}evaluate(i){return!!i.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(i){return i.mapDefined(this.key)}negate(){return this.c||(this.c=D.create(this.key,this)),this.c}}t.$Xi=v;class k{static create(i,o,$=null){if(typeof o=="boolean")return o?v.create(i,$):D.create(i,$);const r=E.get(i);return typeof r=="boolean"?o===(r?"true":"false")?a.INSTANCE:O.INSTANCE:new k(i,o,$)}constructor(i,o,$){this.c=i,this.d=o,this.f=$,this.type=4}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=E.get(this.c);if(typeof i=="boolean"){const o=i?"true":"false";return this.d===o?a.INSTANCE:O.INSTANCE}return this}evaluate(i){return i.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(i){return i.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=p.create(this.c,this.d,this)),this.f}}t.$Yi=k;class T{static create(i,o){return new T(i,o)}constructor(i,o){this.d=i,this.f=o,this.type=10,this.c=null}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.d,this.f,i.d,i.f)}equals(i){return i.type===this.type?this.d===i.d&&this.f===i.f:!1}substituteConstants(){return this}evaluate(i){const o=i.getValue(this.f),$=i.getValue(this.d);return Array.isArray(o)?o.includes($):typeof $=="string"&&typeof o=="object"&&o!==null?b.call(o,$):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(i){return i.mapIn(this.d,this.f)}negate(){return this.c||(this.c=B.create(this.d,this.f)),this.c}}t.$Zi=T;class B{static create(i,o){return new B(i,o)}constructor(i,o){this.d=i,this.f=o,this.type=11,this.c=T.create(i,o)}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(i){return i.mapNotIn(this.d,this.f)}negate(){return this.c}}t.$1i=B;class p{static create(i,o,$=null){if(typeof o=="boolean")return o?D.create(i,$):v.create(i,$);const r=E.get(i);return typeof r=="boolean"?o===(r?"true":"false")?O.INSTANCE:a.INSTANCE:new p(i,o,$)}constructor(i,o,$){this.c=i,this.d=o,this.f=$,this.type=5}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=E.get(this.c);if(typeof i=="boolean"){const o=i?"true":"false";return this.d===o?O.INSTANCE:a.INSTANCE}return this}evaluate(i){return i.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(i){return i.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=k.create(this.c,this.d,this)),this.f}}t.$2i=p;class D{static create(i,o=null){const $=E.get(i);return typeof $=="boolean"?$?O.INSTANCE:a.INSTANCE:new D(i,o)}constructor(i,o){this.c=i,this.d=o,this.type=3}cmp(i){return i.type!==this.type?this.type-i.type:X(this.c,i.c)}equals(i){return i.type===this.type?this.c===i.c:!1}substituteConstants(){const i=E.get(this.c);return typeof i=="boolean"?i?O.INSTANCE:a.INSTANCE:this}evaluate(i){return!i.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(i){return i.mapNot(this.c)}negate(){return this.d||(this.d=v.create(this.c,this)),this.d}}t.$3i=D;function J(S,i){if(typeof S=="string"){const o=parseFloat(S);isNaN(o)||(S=o)}return typeof S=="string"||typeof S=="number"?i(S):O.INSTANCE}class _{static create(i,o,$=null){return J(o,r=>new _(i,r,$))}constructor(i,o,$){this.c=i,this.d=o,this.f=$,this.type=12}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=tt.create(this.c,this.d,this)),this.f}}t.$4i=_;class x{static create(i,o,$=null){return J(o,r=>new x(i,r,$))}constructor(i,o,$){this.c=i,this.d=o,this.f=$,this.type=13}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=et.create(this.c,this.d,this)),this.f}}t.$5i=x;class et{static create(i,o,$=null){return J(o,r=>new et(i,r,$))}constructor(i,o,$){this.c=i,this.d=o,this.f=$,this.type=14}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=x.create(this.c,this.d,this)),this.f}}t.$6i=et;class tt{static create(i,o,$=null){return J(o,r=>new tt(i,r,$))}constructor(i,o,$){this.c=i,this.d=o,this.f=$,this.type=15}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=_.create(this.c,this.d,this)),this.f}}t.$7i=tt;class y{static create(i,o){return new y(i,o)}constructor(i,o){this.d=i,this.f=o,this.type=7,this.c=null}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.d<i.d)return-1;if(this.d>i.d)return 1;const o=this.f?this.f.source:"",$=i.f?i.f.source:"";return o<$?-1:o>$?1:0}equals(i){if(i.type===this.type){const o=this.f?this.f.source:"",$=i.f?i.f.source:"";return this.d===i.d&&o===$}return!1}substituteConstants(){return this}evaluate(i){const o=i.getValue(this.d);return this.f?this.f.test(o):!1}serialize(){const i=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${i}`}keys(){return[this.d]}map(i){return i.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=Q.create(this)),this.c}}t.$8i=y;class Q{static create(i){return new Q(i)}constructor(i){this.c=i,this.type=8}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(i){return new Q(this.c.map(i))}negate(){return this.c}}t.$9i=Q;function it(S){let i=null;for(let o=0,$=S.length;o<$;o++){const r=S[o].substituteConstants();if(S[o]!==r&&i===null){i=[];for(let C=0;C<o;C++)i[C]=S[C]}i!==null&&(i[o]=r)}return i===null?S:i}class M{static create(i,o,$){return M.d(i,o,$)}constructor(i,o){this.expr=i,this.c=o,this.type=6}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let o=0,$=this.expr.length;o<$;o++){const r=A(this.expr[o],i.expr[o]);if(r!==0)return r}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let o=0,$=this.expr.length;o<$;o++)if(!this.expr[o].equals(i.expr[o]))return!1;return!0}return!1}substituteConstants(){const i=it(this.expr);return i===this.expr?this:M.create(i,this.c,!1)}evaluate(i){for(let o=0,$=this.expr.length;o<$;o++)if(!this.expr[o].evaluate(i))return!1;return!0}static d(i,o,$){const r=[];let C=!1;for(const I of i)if(I){if(I.type===1){C=!0;continue}if(I.type===0)return O.INSTANCE;if(I.type===6){r.push(...I.expr);continue}r.push(I)}if(r.length===0&&C)return a.INSTANCE;if(r.length!==0){if(r.length===1)return r[0];r.sort(A);for(let I=1;I<r.length;I++)r[I-1].equals(r[I])&&(r.splice(I,1),I--);if(r.length===1)return r[0];for(;r.length>1;){const I=r[r.length-1];if(I.type!==9)break;r.pop();const R=r.pop(),Z=r.length===0,rt=q.create(I.expr.map(ct=>M.create([ct,R],null,$)),null,Z);rt&&(r.push(rt),r.sort(A))}if(r.length===1)return r[0];if($){for(let I=0;I<r.length;I++)for(let R=I+1;R<r.length;R++)if(r[I].negate().equals(r[R]))return O.INSTANCE;if(r.length===1)return r[0]}return new M(r,o)}}serialize(){return this.expr.map(i=>i.serialize()).join(" && ")}keys(){const i=[];for(const o of this.expr)i.push(...o.keys());return i}map(i){return new M(this.expr.map(o=>o.map(i)),null)}negate(){if(!this.c){const i=[];for(const o of this.expr)i.push(o.negate());this.c=q.create(i,this,!0)}return this.c}}t.$0i=M;class q{static create(i,o,$){return q.d(i,o,$)}constructor(i,o){this.expr=i,this.c=o,this.type=9}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let o=0,$=this.expr.length;o<$;o++){const r=A(this.expr[o],i.expr[o]);if(r!==0)return r}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let o=0,$=this.expr.length;o<$;o++)if(!this.expr[o].equals(i.expr[o]))return!1;return!0}return!1}substituteConstants(){const i=it(this.expr);return i===this.expr?this:q.create(i,this.c,!1)}evaluate(i){for(let o=0,$=this.expr.length;o<$;o++)if(this.expr[o].evaluate(i))return!0;return!1}static d(i,o,$){let r=[],C=!1;if(i){for(let I=0,R=i.length;I<R;I++){const Z=i[I];if(Z){if(Z.type===0){C=!0;continue}if(Z.type===1)return a.INSTANCE;if(Z.type===9){r=r.concat(Z.expr);continue}r.push(Z)}}if(r.length===0&&C)return O.INSTANCE;r.sort(A)}if(r.length!==0){if(r.length===1)return r[0];for(let I=1;I<r.length;I++)r[I-1].equals(r[I])&&(r.splice(I,1),I--);if(r.length===1)return r[0];if($){for(let I=0;I<r.length;I++)for(let R=I+1;R<r.length;R++)if(r[I].negate().equals(r[R]))return a.INSTANCE;if(r.length===1)return r[0]}return new q(r,o)}}serialize(){return this.expr.map(i=>i.serialize()).join(" || ")}keys(){const i=[];for(const o of this.expr)i.push(...o.keys());return i}map(i){return new q(this.expr.map(o=>o.map(i)),null)}negate(){if(!this.c){const i=[];for(const o of this.expr)i.push(o.negate());for(;i.length>1;){const o=i.shift(),$=i.shift(),r=[];for(const C of F(o))for(const I of F($))r.push(M.create([C,I],null,!1));i.unshift(q.create(r,null,!1))}this.c=q.create(i,this,!0)}return this.c}}t.$$i=q;class z extends v{static{this.d=[]}static all(){return z.d.values()}constructor(i,o,$){super(i,null),this.f=o,typeof $=="object"?z.d.push({...$,key:i}):$!==!0&&z.d.push({key:i,description:$,type:o!=null?typeof o:void 0})}bindTo(i){return i.createKey(this.key,this.f)}getValue(i){return i.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(i){return k.create(this.key,i)}notEqualsTo(i){return p.create(this.key,i)}}t.$_i=z,t.$aj=(0,P.$Uh)("contextKeyService");function X(S,i){return S<i?-1:S>i?1:0}function Y(S,i,o,$){return S<o?-1:S>o?1:i<$?-1:i>$?1:0}function K(S,i){if(S.type===0||i.type===1)return!0;if(S.type===9)return i.type===9?nt(S.expr,i.expr):!1;if(i.type===9){for(const o of i.expr)if(K(S,o))return!0;return!1}if(S.type===6){if(i.type===6)return nt(i.expr,S.expr);for(const o of S.expr)if(K(o,i))return!0;return!1}return S.equals(i)}t.$bj=K;function nt(S,i){let o=0,$=0;for(;o<S.length&&$<i.length;){const r=S[o].cmp(i[$]);if(r<0)return!1;r===0&&o++,$++}return o===S.length}function F(S){return S.type===9?S.expr:[S]}}),define(lt[35],ut([0,1,6,23,42,19,11,5,2,34]),function(st,t,G,V,U,P,W,H,E,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$FI=t.$EI=t.$DI=t.$CI=t.CellStatusbarAlignment=t.$BI=t.$AI=t.$zI=t.NotebookEditorPriority=t.$yI=t.$xI=t.$wI=t.$vI=t.CellUri=t.CellEditType=t.SelectionStateType=t.NotebookCellsChangeType=t.RendererMessagingSpec=t.NotebookRendererMatch=t.NotebookExecutionState=t.NotebookCellExecutionState=t.NotebookRunState=t.$uI=t.$tI=t.$sI=t.$rI=t.CellKind=t.$qI=t.$pI=t.$oI=void 0,t.$oI="workbench.editor.notebook",t.$pI="workbench.editor.notebookTextDiffEditor",t.$qI="workbench.editor.interactive";var b;(function(y){y[y.Markup=1]="Markup",y[y.Code=2]="Code"})(b||(t.CellKind=b={})),t.$rI=["application/json","application/javascript","text/html","image/svg+xml",P.$Vr.latex,P.$Vr.markdown,"image/png","image/jpeg",P.$Vr.text],t.$sI=[P.$Vr.latex,P.$Vr.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",P.$Vr.text],t.$tI=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),t.$uI="_notAvailable";var j;(function(y){y[y.Running=1]="Running",y[y.Idle=2]="Idle"})(j||(t.NotebookRunState=j={}));var g;(function(y){y[y.Unconfirmed=1]="Unconfirmed",y[y.Pending=2]="Pending",y[y.Executing=3]="Executing"})(g||(t.NotebookCellExecutionState=g={}));var N;(function(y){y[y.Unconfirmed=1]="Unconfirmed",y[y.Pending=2]="Pending",y[y.Executing=3]="Executing"})(N||(t.NotebookExecutionState=N={}));var m;(function(y){y[y.WithHardKernelDependency=0]="WithHardKernelDependency",y[y.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",y[y.Pure=2]="Pure",y[y.Never=3]="Never"})(m||(t.NotebookRendererMatch=m={}));var f;(function(y){y.Always="always",y.Never="never",y.Optional="optional"})(f||(t.RendererMessagingSpec=f={}));var u;(function(y){y[y.ModelChange=1]="ModelChange",y[y.Move=2]="Move",y[y.ChangeCellLanguage=5]="ChangeCellLanguage",y[y.Initialize=6]="Initialize",y[y.ChangeCellMetadata=7]="ChangeCellMetadata",y[y.Output=8]="Output",y[y.OutputItem=9]="OutputItem",y[y.ChangeCellContent=10]="ChangeCellContent",y[y.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",y[y.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",y[y.ChangeCellMime=13]="ChangeCellMime",y[y.Unknown=100]="Unknown"})(u||(t.NotebookCellsChangeType=u={}));var h;(function(y){y[y.Handle=0]="Handle",y[y.Index=1]="Index"})(h||(t.SelectionStateType=h={}));var e;(function(y){y[y.Replace=1]="Replace",y[y.Output=2]="Output",y[y.Metadata=3]="Metadata",y[y.CellLanguage=4]="CellLanguage",y[y.DocumentMetadata=5]="DocumentMetadata",y[y.Move=6]="Move",y[y.OutputItems=7]="OutputItems",y[y.PartialMetadata=8]="PartialMetadata",y[y.PartialInternalMetadata=9]="PartialInternalMetadata"})(e||(t.CellEditType=e={}));var s;(function(y){y.scheme=W.Schemas.vscodeNotebookCell;const Q=["W","X","Y","Z","a","b","c","d","e","f"],it=new RegExp(`^[${Q.join("")}]+`),M=7;function q(F,S){const i=S.toString(M),$=`${i.length<Q.length?Q[i.length-1]:"z"}${i}s${(0,G.$ye)(G.$ee.fromString(F.scheme),!0,!0)}`;return F.with({scheme:y.scheme,fragment:$})}y.generate=q;function z(F){if(F.scheme!==y.scheme)return;const S=F.fragment.indexOf("s");if(S<0)return;const i=parseInt(F.fragment.substring(0,S).replace(it,""),M),o=(0,G.$xe)(F.fragment.substring(S+1)).toString();if(!isNaN(i))return{handle:i,notebook:F.with({scheme:o,fragment:null})}}y.parse=z;function X(F,S){return F.with({scheme:W.Schemas.vscodeNotebookCellOutput,fragment:`op${S??""},${F.scheme!==W.Schemas.file?F.scheme:""}`})}y.generateCellOutputUri=X;function Y(F){if(F.scheme!==W.Schemas.vscodeNotebookCellOutput)return;const S=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(F.fragment);if(!S)return;const i=S[1]&&S[1]!==""?S[1]:void 0,o=S[2];return{outputId:i,notebook:F.with({scheme:o||W.Schemas.file,fragment:null})}}y.parseCellOutputUri=Y;function K(F,S,i){return y.generate(F,S).with({scheme:i})}y.generateCellPropertyUri=K;function nt(F,S){if(F.scheme===S)return y.parse(F.with({scheme:y.scheme}))}y.parseCellPropertyUri=nt})(s||(t.CellUri=s={}));const n=y=>E.$i?y.replace(/\//g,"\\"):y;class l{constructor(Q=[],it=t.$rI){this.e=it,this.d=[...new Set(Q)].map(M=>({pattern:M,matches:V.$Bj(n(M))}))}sort(Q){const it=new Map(U.Iterable.map(Q,q=>[q,n(q)]));let M=[];for(const{matches:q}of this.d)for(const[z,X]of it)if(q(X)){M.push(z),it.delete(z);break}return it.size&&(M=M.concat([...it.keys()].sort((q,z)=>this.e.indexOf(q)-this.e.indexOf(z)))),M}prioritize(Q,it){const M=this.f(Q);if(M===-1){this.d.unshift({pattern:Q,matches:V.$Bj(n(Q))});return}const q=new Set(it.map(X=>this.f(X,M)));q.delete(-1);const z=Array.from(q).sort();this.d.splice(M+1,0,...z.map(X=>this.d[X]));for(let X=z.length-1;X>=0;X--)this.d.splice(z[X],1)}toArray(){return this.d.map(Q=>Q.pattern)}f(Q,it=this.d.length){const M=n(Q);for(let q=0;q<it;q++)if(this.d[q].matches(M))return q;return-1}}t.$vI=l;function c(y,Q,it,M=(q,z)=>q===z){const q=[];function z(K,nt,F){if(nt===0&&F.length===0)return;const S=q[q.length-1];S&&S.start+S.deleteCount===K?(S.deleteCount+=nt,S.toInsert.push(...F)):q.push({start:K,deleteCount:nt,toInsert:F})}let X=0,Y=0;for(;;){if(X===y.length){z(X,0,Q.slice(Y));break}if(Y===Q.length){z(X,y.length-X,[]);break}const K=y[X],nt=Q[Y];if(M(K,nt)){X+=1,Y+=1;continue}it(nt)?(z(X,1,[]),X+=1):(z(X,0,[nt]),Y+=1)}return q}t.$wI=c,t.$xI=new d.$_i("notebookEditorCursorAtBoundary","none"),t.$yI=new d.$_i("notebookEditorCursorAtLineBoundary","none");var w;(function(y){y.default="default",y.option="option"})(w||(t.NotebookEditorPriority=w={}));function L(y){const Q=y;return!!((typeof Q.include=="string"||V.$Cj(Q.include))&&(typeof Q.exclude=="string"||V.$Cj(Q.exclude)))}t.$zI=L;function A(y,Q,it){if(Array.isArray(y.viewType)&&y.viewType.indexOf(Q)>=0||y.viewType===Q)return!0;if(y.filenamePattern){const M=L(y.filenamePattern)?y.filenamePattern.include:y.filenamePattern,q=L(y.filenamePattern)?y.filenamePattern.exclude:void 0;if(V.$Aj(M,(0,H.$mc)(it.fsPath).toLowerCase()))return!(q&&V.$Aj(q,(0,H.$mc)(it.fsPath).toLowerCase()))}return!1}t.$AI=A,t.$BI={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScroll:"notebook.stickyScroll.enabled",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",formatOnSave:"notebook.formatOnSave.enabled",insertFinalNewline:"notebook.insertFinalNewline",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave",gotoSymbolsAllSymbols:"notebook.gotoSymbols.showAllSymbols",scrollToRevealCell:"notebook.scrolling.revealNextCellOnExecute",anchorToFocusedCell:"notebook.scrolling.experimental.anchorToFocusedCell"};var O;(function(y){y[y.Left=1]="Left",y[y.Right=2]="Right"})(O||(t.CellStatusbarAlignment=O={}));class a{static{this.d="notebook/"}static create(Q){return`${a.d}${Q}`}static parse(Q){if(Q.startsWith(a.d))return Q.substring(a.d.length)}}t.$CI=a;function v(y){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(y)}t.$DI=v;const k=new TextDecoder;function T(y){const Q=[];let it=!1;for(const X of y)(Q.length===0||it)&&(Q.push(X),it=!0);let M=D(Q);const q=G.$ee.concat(Q.map(X=>G.$ee.wrap(X))),z=tt(q);return M=M||z.byteLength!==q.byteLength,{data:z,didCompression:M}}t.$EI=T,t.$FI=`${String.fromCharCode(27)}[A`;const B=t.$FI.split("").map(y=>y.charCodeAt(0)),p=10;function D(y){let Q=!1;return y.forEach((it,M)=>{if(M===0||it.length<t.$FI.length)return;const q=y[M-1],z=it.subarray(0,t.$FI.length);if(z[0]===B[0]&&z[1]===B[1]&&z[2]===B[2]){const X=q.lastIndexOf(p);if(X===-1)return;Q=!0,y[M-1]=q.subarray(0,X),y[M]=it.subarray(t.$FI.length)}}),Q}function J(y){let Q=y;do y=Q,Q=y.replace(/[^\n]\x08/gm,"");while(Q.length<y.length);return y}function _(y){for(y=y.replace(/\r+\n/gm,`
`);y.search(/\r[^$]/g)>-1;){const Q=y.match(/^(.*)\r+/m)[1];let it=y.match(/\r+(.*)$/m)[1];it=it+Q.slice(it.length,Q.length),y=y.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,it)}return y}const x="\b".charCodeAt(0),et="\r".charCodeAt(0);function tt(y){return!y.buffer.includes(x)&&!y.buffer.includes(et)?y:G.$ee.fromString(_(J(k.decode(y.buffer))))}}),define(lt[43],ut([0,1,44,45,12,27,35,9,18]),function(st,t,G,V,U,P,W,H,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.NotebookEditorSimpleWorker=void 0;function d(f){let u=(0,V.$Ki)(104579,0);for(let h=0;h<f.buffer.length;h++)u=(0,V.$Ji)(f.buffer[h],u);return u}class b{get textBuffer(){if(this.a)return this.a;const u=new P.$MB;u.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const h=u.finish(!0);return this.a=h.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,V.$Ii)(this.getValue())),this.b}constructor(u,h,e,s,n,l,c){this.handle=u,this.d=h,this.language=e,this.cellKind=s,this.outputs=n,this.metadata=l,this.internalMetadata=c,this.b=null,this.c=null}getFullModelRange(){const u=this.textBuffer.getLineCount();return new H.$zs(1,1,u,this.textBuffer.getLineLength(u)+1)}getValue(){const u=this.getFullModelRange();return this.textBuffer.getValueInRange(u,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,V.$Ii)([(0,V.$Ii)(this.language),(0,V.$Ii)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(u=>({outputs:u.outputs.map(h=>({mime:h.mime,data:d(h.data)})),metadata:u.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,V.$Ii)([(0,V.$Ii)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class j{constructor(u,h,e){this.uri=u,this.cells=h,this.metadata=e}acceptModelChanged(u){u.rawEvents.forEach(h=>{if(h.kind===W.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(h.changes);else if(h.kind===W.NotebookCellsChangeType.Move){const e=this.cells.splice(h.index,1);this.cells.splice(h.newIdx,0,...e)}else if(h.kind===W.NotebookCellsChangeType.Output){const e=this.cells[h.index];e.outputs=h.outputs}else if(h.kind===W.NotebookCellsChangeType.ChangeCellLanguage){this.a(h.index);const e=this.cells[h.index];e.language=h.language}else if(h.kind===W.NotebookCellsChangeType.ChangeCellMetadata){this.a(h.index);const e=this.cells[h.index];e.metadata=h.metadata}else if(h.kind===W.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(h.index);const e=this.cells[h.index];e.internalMetadata=h.internalMetadata}})}a(u){if(u<0||u>=this.cells.length)throw new Error(`Illegal index ${u}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(u){u.reverse().forEach(h=>{const s=h[2].map(n=>new b(n.handle,n.source,n.language,n.cellKind,n.outputs,n.metadata));this.cells.splice(h[0],h[1],...s)})}}class g{constructor(u){this.textModel=u}getElements(){const u=new Int32Array(this.textModel.cells.length);for(let h=0;h<this.textModel.cells.length;h++)u[h]=this.textModel.cells[h].getComparisonValue();return u}getCellHash(u){const h=Array.isArray(u.source)?u.source.join(`
`):u.source;return(0,V.$Ii)([(0,V.$Ii)(h),u.metadata])}}class N{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(u,h){this.a[u]=new j(U.URI.parse(u),h.cells.map(e=>new b(e.handle,e.source,e.language,e.cellKind,e.outputs,e.metadata)),h.metadata)}acceptModelChanged(u,h){this.a[u]?.acceptModelChanged(h)}acceptRemovedModel(u){this.a[u]&&delete this.a[u]}computeDiff(u,h){const e=this.b(u),s=this.b(h);return{cellsDiff:new G.$Fs(new g(e),new g(s)).ComputeDiff(!1)}}canPromptRecommendation(u){const e=this.b(u).cells;for(let s=0;s<e.length;s++){const n=e[s];if(n.cellKind===W.CellKind.Markup||n.language!=="python")continue;const l=n.textBuffer.getLineCount(),c=Math.min(l,20),w=new H.$zs(1,1,c,n.textBuffer.getLineLength(c)+1),A=new E.$AB("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!A)continue;if(n.textBuffer.findMatchesLineByLine(w,A,!0,1).length>0)return!0}return!1}b(u){return this.a[u]}}t.NotebookEditorSimpleWorker=N;function m(f){return new N}t.create=m})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/2095b6f5a316c998fbfa17586d24f7974e3c8f13/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
